<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.556">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mohammed Twheed Khater">
<meta name="dcterms.date" content="2024-06-24">

<title>Home - Application of Artificial Intelligence on the Centrifugal Pump Operation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../artificial-intelligence.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-gallery .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-category','listing-description','listing-tiles',{ data: ['index'] },{ data: ['categories'] }],
      
      searchColumns: ["listing-category","listing-description","listing-tiles"],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-gallery'] = new List('listing-gallery', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #EDF3F9;
      }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../artificial-intelligence.png" alt="AI for Pumps logo." class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../data/writings/index.html"> 
<span class="menu-text">Writings</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Application of Artificial Intelligence on the Centrifugal Pump Operation</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mohammed Twheed Khater </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 24, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#here-is-proposed-presentation" id="toc-here-is-proposed-presentation" class="nav-link active" data-scroll-target="#here-is-proposed-presentation">here is proposed presentation</a></li>
  <li><a href="#chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" id="toc-chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" class="nav-link" data-scroll-target="#chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai">Chapter 1: Prediction of the Effect of Impeller Trimming on Centrifugal Pump Performance Using AI</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#the-concept-of-impeller-trimming" id="toc-the-concept-of-impeller-trimming" class="nav-link" data-scroll-target="#the-concept-of-impeller-trimming">The Concept of Impeller Trimming</a>
  <ul class="collapse">
  <li><a href="#what-is-trimming" id="toc-what-is-trimming" class="nav-link" data-scroll-target="#what-is-trimming">What is Trimming?</a></li>
  <li><a href="#why-trimming" id="toc-why-trimming" class="nav-link" data-scroll-target="#why-trimming">Why Trimming?</a></li>
  <li><a href="#the-need-for-trimming" id="toc-the-need-for-trimming" class="nav-link" data-scroll-target="#the-need-for-trimming">The Need for Trimming</a></li>
  </ul></li>
  <li><a href="#energy-savings-and-environmental-impact" id="toc-energy-savings-and-environmental-impact" class="nav-link" data-scroll-target="#energy-savings-and-environmental-impact">Energy Savings and Environmental Impact</a></li>
  <li><a href="#traditional-methods-of-impeller-trimming" id="toc-traditional-methods-of-impeller-trimming" class="nav-link" data-scroll-target="#traditional-methods-of-impeller-trimming">Traditional Methods of Impeller Trimming</a>
  <ul class="collapse">
  <li><a href="#scaling-methods" id="toc-scaling-methods" class="nav-link" data-scroll-target="#scaling-methods">Scaling Methods</a></li>
  </ul></li>
  <li><a href="#artificial-neural-networks-for-impeller-trimming" id="toc-artificial-neural-networks-for-impeller-trimming" class="nav-link" data-scroll-target="#artificial-neural-networks-for-impeller-trimming">Artificial Neural Networks for Impeller Trimming</a>
  <ul class="collapse">
  <li><a href="#advantages-of-neural-networks" id="toc-advantages-of-neural-networks" class="nav-link" data-scroll-target="#advantages-of-neural-networks">Advantages of Neural Networks</a></li>
  <li><a href="#neural-network-architecture" id="toc-neural-network-architecture" class="nav-link" data-scroll-target="#neural-network-architecture">Neural Network Architecture</a></li>
  <li><a href="#training-the-neural-network" id="toc-training-the-neural-network" class="nav-link" data-scroll-target="#training-the-neural-network">Training the Neural Network</a></li>
  <li><a href="#hyperparameters-and-unlearnable-parameters" id="toc-hyperparameters-and-unlearnable-parameters" class="nav-link" data-scroll-target="#hyperparameters-and-unlearnable-parameters">Hyperparameters and Unlearnable Parameters</a></li>
  </ul></li>
  <li><a href="#genetic-algorithm-for-hyperparameter-optimization" id="toc-genetic-algorithm-for-hyperparameter-optimization" class="nav-link" data-scroll-target="#genetic-algorithm-for-hyperparameter-optimization">Genetic Algorithm for Hyperparameter Optimization</a>
  <ul class="collapse">
  <li><a href="#how-genetic-algorithms-work" id="toc-how-genetic-algorithms-work" class="nav-link" data-scroll-target="#how-genetic-algorithms-work">How Genetic Algorithms Work</a></li>
  <li><a href="#using-genetic-algorithms-in-our-code" id="toc-using-genetic-algorithms-in-our-code" class="nav-link" data-scroll-target="#using-genetic-algorithms-in-our-code">Using Genetic Algorithms in Our Code</a></li>
  <li><a href="#key-steps-in-genetic-algorithm" id="toc-key-steps-in-genetic-algorithm" class="nav-link" data-scroll-target="#key-steps-in-genetic-algorithm">Key Steps in Genetic Algorithm</a></li>
  </ul></li>
  <li><a href="#implementation-in-matlab" id="toc-implementation-in-matlab" class="nav-link" data-scroll-target="#implementation-in-matlab">Implementation in MATLAB</a>
  <ul class="collapse">
  <li><a href="#script-main_04.m" id="toc-script-main_04.m" class="nav-link" data-scroll-target="#script-main_04.m">Script: main_04.m</a></li>
  <li><a href="#script-qhfordiameters.m" id="toc-script-qhfordiameters.m" class="nav-link" data-scroll-target="#script-qhfordiameters.m">Script: QHforDiameters.m</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#qhd-results-table" id="toc-qhd-results-table" class="nav-link" data-scroll-target="#qhd-results-table">QHD results table</a></li>
  <li><a href="#qdp-results-tabel" id="toc-qdp-results-tabel" class="nav-link" data-scroll-target="#qdp-results-tabel">QDP results tabel</a></li>
  <li><a href="#qdh-results-tabel" id="toc-qdh-results-tabel" class="nav-link" data-scroll-target="#qdh-results-tabel">QDH results tabel</a></li>
  <li><a href="#errors-and-reductions" id="toc-errors-and-reductions" class="nav-link" data-scroll-target="#errors-and-reductions">errors and reductions</a></li>
  <li><a href="#final-stats" id="toc-final-stats" class="nav-link" data-scroll-target="#final-stats">final stats</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#figures" id="toc-figures" class="nav-link" data-scroll-target="#figures">Figures</a>
  <ul class="collapse">
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  <li><a href="#qhfordiameters.m-code-docs" id="toc-qhfordiameters.m-code-docs" class="nav-link" data-scroll-target="#qhfordiameters.m-code-docs">QHforDiameters.m code docs</a>
  <ul class="collapse">
  <li><a href="#code-breakdown" id="toc-code-breakdown" class="nav-link" data-scroll-target="#code-breakdown">Code Breakdown</a>
  <ul class="collapse">
  <li><a href="#initial-setup" id="toc-initial-setup" class="nav-link" data-scroll-target="#initial-setup">Initial Setup</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a></li>
  <li><a href="#hyperparameter-optimization-setup" id="toc-hyperparameter-optimization-setup" class="nav-link" data-scroll-target="#hyperparameter-optimization-setup">Hyperparameter Optimization Setup</a></li>
  <li><a href="#optimization-loop" id="toc-optimization-loop" class="nav-link" data-scroll-target="#optimization-loop">Optimization Loop</a></li>
  <li><a href="#plotting-results" id="toc-plotting-results" class="nav-link" data-scroll-target="#plotting-results">Plotting Results</a></li>
  <li><a href="#saving-results" id="toc-saving-results" class="nav-link" data-scroll-target="#saving-results">Saving Results</a></li>
  <li><a href="#writing-results-to-csv" id="toc-writing-results-to-csv" class="nav-link" data-scroll-target="#writing-results-to-csv">Writing Results to CSV</a></li>
  <li><a href="#supporting-functions" id="toc-supporting-functions" class="nav-link" data-scroll-target="#supporting-functions">Supporting Functions</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#main_04.m" id="toc-main_04.m" class="nav-link" data-scroll-target="#main_04.m">main_04.m</a>
  <ul class="collapse">
  <li><a href="#details" id="toc-details" class="nav-link" data-scroll-target="#details">Details</a></li>
  <li><a href="#training-with-different-diameters-hidden-qhd-and-qdh" id="toc-training-with-different-diameters-hidden-qhd-and-qdh" class="nav-link" data-scroll-target="#training-with-different-diameters-hidden-qhd-and-qdh">Training with Different Diameters Hidden (QHD and QDH)</a></li>
  <li><a href="#finalizing-and-saving-results" id="toc-finalizing-and-saving-results" class="nav-link" data-scroll-target="#finalizing-and-saving-results">Finalizing and Saving Results</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="here-is-proposed-presentation" class="level1">
<h1>here is proposed <a href="../../../../data/writings/posts/2024-06-24-chapter-1-trimming -AI/presentation.html">presentation</a></h1>
</section>
<section id="chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" class="level1">
<h1>Chapter 1: Prediction of the Effect of Impeller Trimming on Centrifugal Pump Performance Using AI</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Centrifugal pumps are pivotal components in various industrial applications, from water supply systems to chemical processing. Optimizing their performance is crucial for enhancing energy efficiency and reducing operational costs. One key optimization technique is impeller trimming, which involves reducing the diameter of a pump impeller to align the pump’s performance more closely with the system requirements. This chapter explores the concept of impeller trimming, its significance, traditional methods, and the advantages of employing Artificial Intelligence (AI) for performance prediction.</p>
</section>
<section id="the-concept-of-impeller-trimming" class="level2">
<h2 class="anchored" data-anchor-id="the-concept-of-impeller-trimming">The Concept of Impeller Trimming</h2>
<section id="what-is-trimming" class="level3">
<h3 class="anchored" data-anchor-id="what-is-trimming">What is Trimming?</h3>
<p>Impeller trimming is the process of mechanically reducing the diameter of the pump impeller. This adjustment directly influences the pump’s head and flow rate, thereby modifying its performance characteristics. Trimming is performed to ensure that the pump operates within the desired performance range, avoiding over-delivery or under-delivery of fluid.</p>
</section>
<section id="why-trimming" class="level3">
<h3 class="anchored" data-anchor-id="why-trimming">Why Trimming?</h3>
</section>
<section id="the-need-for-trimming" class="level3">
<h3 class="anchored" data-anchor-id="the-need-for-trimming">The Need for Trimming</h3>
<p>Trimming the impeller allows for the customization of pump performance to meet specific operational requirements. This customization is particularly necessary when: - The available pump sizes do not perfectly match the required system specifications. - System demands change over time, necessitating adjustments to maintain optimal efficiency. - Reducing the operational costs by minimizing energy wastage.</p>
<section id="energy-consumption" class="level4">
<h4 class="anchored" data-anchor-id="energy-consumption">Energy Consumption</h4>
<p>Centrifugal pumps are often responsible for a significant portion of the energy consumption in industrial settings. Trimming the impeller to match the exact system requirements can greatly reduce the energy consumption of the pump. By operating more efficiently, the pump uses less power, leading to substantial energy savings <em>where for each 1 kw in pump delivery corresponds to 6 kwhr in power station</em>.</p>
</section>
<section id="market-availability" class="level4">
<h4 class="anchored" data-anchor-id="market-availability">Market Availability</h4>
<p>The pumps available in the market may not always fit specific system requirements precisely. Typically, pumps are designed for a range of operations and may be larger or smaller than needed for a particular application. Impeller trimming allows for customizing the pump’s performance to meet these specific needs, ensuring that the pump operates at optimal efficiency.</p>
</section>
</section>
</section>
<section id="energy-savings-and-environmental-impact" class="level2">
<h2 class="anchored" data-anchor-id="energy-savings-and-environmental-impact">Energy Savings and Environmental Impact</h2>
<p>Trimming the impeller is not only beneficial for energy savings but also contributes to environmental sustainability. Reduced energy consumption leads to lower greenhouse gas emissions. For every kilowatt-hour (kWh) saved by the pump, the reduction in power station output significantly decreases pollution. This correlation is particularly stark, with each kilowatt saved at the pump corresponding to approximately six kilowatts saved at the power station.</p>
</section>
<section id="traditional-methods-of-impeller-trimming" class="level2">
<h2 class="anchored" data-anchor-id="traditional-methods-of-impeller-trimming">Traditional Methods of Impeller Trimming</h2>
<section id="scaling-methods" class="level3">
<h3 class="anchored" data-anchor-id="scaling-methods">Scaling Methods</h3>
<p>Traditional methods for impeller trimming typically involve scaling laws and empirical correlations derived from extensive testing and experience. These methods include:</p>
<section id="constant-area-scaling" class="level4">
<h4 class="anchored" data-anchor-id="constant-area-scaling">Constant-Area Scaling</h4>
<p>Constant-area scaling assumes that the trimmed impeller maintains a constant area, ensuring proportional changes in flow and head. This method involves adjusting the impeller diameter while maintaining the proportional relationship between the flow rate and head.</p>
<p><span class="math display">\[
\text{constant-area scaling:} \quad \frac{Q'}{Q} = \frac{D_2'}{D_2} \frac{H'}{H} = \left( \frac{D_2'}{D_2} \right)^2
\]</span></p>
</section>
</section>
</section>
<section id="artificial-neural-networks-for-impeller-trimming" class="level2">
<h2 class="anchored" data-anchor-id="artificial-neural-networks-for-impeller-trimming">Artificial Neural Networks for Impeller Trimming</h2>
<p>Artificial Neural Networks (ANNs) offer a robust alternative to traditional methods by leveraging large datasets to predict pump performance accurately. Unlike empirical methods, ANNs can model complex, non-linear relationships between variables, providing more precise predictions.</p>
<section id="advantages-of-neural-networks" class="level3">
<h3 class="anchored" data-anchor-id="advantages-of-neural-networks">Advantages of Neural Networks</h3>
<ul>
<li><strong>Accuracy</strong>: ANNs can learn from vast amounts of data, capturing intricate patterns and relationships that traditional methods might miss.</li>
<li><strong>Efficiency</strong>: Once trained, ANNs can quickly predict performance outcomes for different impeller diameters, saving time and resources.</li>
<li><strong>Adaptability</strong>: Neural networks can be updated with new data, continuously improving their predictive capabilities.</li>
</ul>
</section>
<section id="neural-network-architecture" class="level3">
<h3 class="anchored" data-anchor-id="neural-network-architecture">Neural Network Architecture</h3>
<p>The architecture of the neural network plays a crucial role in its performance. Key components include: - <strong>Input Layer</strong>: Represents the features or variables used for prediction, such as flow rate and diameter. - <strong>Hidden Layers</strong>: Intermediate layers that process the inputs through weighted connections. The number of hidden layers and neurons per layer is optimized using hyperparameter tuning. - <strong>Output Layer</strong>: Provides the predicted performance metrics, such as head and power.</p>
</section>
<section id="training-the-neural-network" class="level3">
<h3 class="anchored" data-anchor-id="training-the-neural-network">Training the Neural Network</h3>
<p>The training process involves adjusting the weights of the network to minimize the error between predicted and actual values. This is achieved through backpropagation and optimization algorithms.</p>
</section>
<section id="hyperparameters-and-unlearnable-parameters" class="level3">
<h3 class="anchored" data-anchor-id="hyperparameters-and-unlearnable-parameters">Hyperparameters and Unlearnable Parameters</h3>
<p>Hyperparameters are settings that you adjust before training your neural network. These parameters influence the training process and the structure of the network. They are not learned from the data but are set by the user. In our code, we have chosen to optimize several hyperparameters, including:</p>
<ul>
<li><strong>Number of neurons in the hidden layers</strong>: This determines the capacity of the neural network to learn from the data. More neurons can capture more complex patterns but may also lead to overfitting if not managed properly.</li>
<li><strong>Training method</strong>: This is specified by the choice of optimizer. In our code, we use the Levenberg-Marquardt (<code>trainlm</code> in MATLAB) optimizer for its efficiency in training feedforward networks.</li>
<li><strong>Number of epochs</strong>: Epochs refer to the number of complete passes through the training dataset. Our code optimizes the number of epochs to ensure the model is well-trained without overfitting.</li>
<li><strong>Activation functions</strong>: These functions define the output of each neuron. We experiment with different activation functions like <code>tansig</code> and <code>logsig</code> to find the best fit for our model.</li>
</ul>
</section>
</section>
<section id="genetic-algorithm-for-hyperparameter-optimization" class="level2">
<h2 class="anchored" data-anchor-id="genetic-algorithm-for-hyperparameter-optimization">Genetic Algorithm for Hyperparameter Optimization</h2>
<p>Genetic algorithms (GAs) are a class of optimization techniques inspired by the process of natural selection. They are particularly useful for optimizing complex problems with large search spaces, such as neural network hyperparameter tuning.</p>
<section id="how-genetic-algorithms-work" class="level3">
<h3 class="anchored" data-anchor-id="how-genetic-algorithms-work">How Genetic Algorithms Work</h3>
<ol type="1">
<li><strong>Initialization</strong>: A population of potential solutions (individuals) is generated. Each individual represents a set of hyperparameters.</li>
<li><strong>Selection</strong>: Individuals are selected based on their fitness, which is typically a function of how well they perform on a given task (e.g., predicting pump performance).</li>
<li><strong>Crossover</strong>: Pairs of individuals are combined to produce offspring. This process involves swapping parts of their hyperparameter sets to create new solutions.</li>
<li><strong>Mutation</strong>: Some offspring undergo random changes to introduce diversity into the population.</li>
<li><strong>Evaluation</strong>: The fitness of the new generation is evaluated, and the best individuals are selected for the next iteration.</li>
<li><strong>Termination</strong>: The algorithm repeats the selection, crossover, mutation, and evaluation steps until a stopping criterion is met (e.g., a predefined number of generations or a satisfactory fitness level).</li>
</ol>
</section>
<section id="using-genetic-algorithms-in-our-code" class="level3">
<h3 class="anchored" data-anchor-id="using-genetic-algorithms-in-our-code">Using Genetic Algorithms in Our Code</h3>
<p>In our code, we use a genetic algorithm to optimize the hyperparameters of our neural network. The key steps involved are:</p>
<ol type="1">
<li><strong>Define the Search Space</strong>: We specify the range for each hyperparameter, such as the number of neurons in hidden layers, the number of epochs, and the indices for the training and activation functions.</li>
<li><strong>Set Genetic Algorithm Options</strong>: We configure the genetic algorithm with options like population size, maximum number of generations, crossover fraction, and fitness limit.</li>
<li><strong>Evaluate Hyperparameters</strong>: A fitness function evaluates the performance of each set of hyperparameters. It trains the neural network and computes the mean squared error (MSE) across training, validation, and testing datasets.</li>
<li><strong>Optimize</strong>: The genetic algorithm iteratively searches for the optimal hyperparameters by generating new populations, evaluating their fitness, and selecting the best-performing sets.</li>
</ol>
<p>Here is an outline of the relevant code:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Define bounds for the genetic algorithm optimization</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="va">lower_bounds</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span>  <span class="fl">13</span><span class="op">,</span>    <span class="fl">13</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span> <span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="va">upper_bounds</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span>  <span class="fl">300</span><span class="op">,</span>    <span class="fl">300</span><span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">% Genetic algorithm options</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="va">gaOptions</span> <span class="op">=</span> <span class="va">optimoptions</span>(<span class="ss">'ga'</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'PopulationSize'</span><span class="op">,</span> <span class="fl">17</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'MaxGenerations'</span><span class="op">,</span> <span class="fl">13</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'CrossoverFraction'</span><span class="op">,</span> <span class="fl">0.8</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'ConstraintTolerance'</span><span class="op">,</span> <span class="fl">0.000991</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'FitnessLimit'</span><span class="op">,</span> <span class="fl">0.000991</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'EliteCount'</span><span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'Display'</span><span class="op">,</span> <span class="ss">'iter'</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="ss">'UseParallel'</span><span class="op">,</span> <span class="va">true</span>)<span class="op">;</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">% Optimization using genetic algorithm</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>[<span class="va">optimalHyperParams</span><span class="op">,</span> <span class="va">finalMSE</span>] <span class="op">=</span> <span class="va">ga</span>(<span class="op">@</span>(<span class="va">hyperParams</span>) <span class="va">evaluateHyperparameters</span>(<span class="va">hyperParams</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">t</span><span class="op">,</span> <span class="va">randomSeed</span>)<span class="op">,</span> <span class="op">...</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">length</span>(<span class="va">lower_bounds</span>)<span class="op">,</span> []<span class="op">,</span> []<span class="op">,</span> []<span class="op">,</span> []<span class="op">,</span> <span class="va">lower_bounds</span><span class="op">,</span> <span class="va">upper_bounds</span><span class="op">,</span> []<span class="op">,</span> <span class="va">gaOptions</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this section of the code, we set up the bounds for the hyperparameters and configure the genetic algorithm options. The <code>evaluateHyperparameters</code> function is called by the genetic algorithm to assess the performance of each set of hyperparameters, guiding the search towards the optimal solution.</p>
<p>The combination of neural networks and genetic algorithms provides a powerful approach for predicting pump performance with high accuracy and efficiency, leveraging advanced optimization techniques to fine-tune the model. ## Genetic Algorithm for Hyperparameter Optimization</p>
<p>A genetic algorithm (GA) is used to optimize the hyperparameters of the neural network. GA is a search heuristic that mimics the process of natural selection, making it effective for exploring large and complex search spaces.</p>
</section>
<section id="key-steps-in-genetic-algorithm" class="level3">
<h3 class="anchored" data-anchor-id="key-steps-in-genetic-algorithm">Key Steps in Genetic Algorithm</h3>
<ol type="1">
<li><strong>Initialization</strong>: Creating an initial population of potential solutions with random hyperparameters.</li>
<li><strong>Selection</strong>: Evaluating the fitness of each individual in the population based on the mean squared error (MSE) of the neural network’s predictions.</li>
<li><strong>Crossover</strong>: Combining pairs of individuals to produce offspring with mixed characteristics, promoting the inheritance of good traits.</li>
<li><strong>Mutation</strong>: Introducing random changes to some individuals to maintain genetic diversity and explore new solutions.</li>
<li><strong>Evaluation</strong>: Assessing the performance of the new population and iterating through the selection, crossover, and mutation steps until convergence or a predefined number of generations is reached.</li>
</ol>
</section>
</section>
<section id="implementation-in-matlab" class="level2">
<h2 class="anchored" data-anchor-id="implementation-in-matlab">Implementation in MATLAB</h2>
<p>The implementation of AI for impeller trimming was carried out using MATLAB. The scripts <code>main_04.m</code> and <code>QHforDiameters.m</code> are critical components of this implementation, leveraging optimized neural network architectures to predict pump performance based on different impeller diameters.</p>
<section id="script-main_04.m" class="level3">
<h3 class="anchored" data-anchor-id="script-main_04.m">Script: main_04.m</h3>
<p>The <code>main_04.m</code> script incorporates the following key steps:</p>
<ol type="1">
<li><strong>Data Loading</strong>: Loading datasets containing flow rate, head, diameter, and power metrics.</li>
<li><strong>Network Training</strong>: Training neural networks with optimized architectures to predict head and power based on flow rate and diameter.</li>
<li><strong>Performance Evaluation</strong>: Evaluating the trained networks on various performance metrics to ensure accuracy and reliability.</li>
<li><strong>Visualization</strong>: Generating 3D plots to visualize the relationship between flow rate, head, diameter, and power, showcasing the neural network predictions versus actual data.</li>
</ol>
<section id="key-functions-and-their-roles" class="level4">
<h4 class="anchored" data-anchor-id="key-functions-and-their-roles">Key Functions and Their Roles</h4>
<ul>
<li><strong>train_nn</strong>: This function trains the neural network using the provided data, returning the trained model and performance metrics.</li>
<li><strong>trim_diameters</strong>: This function determines the optimal trimmed diameter based on the provided pump data and performance criteria.</li>
<li><strong>processDataAndVisualize</strong>: This function processes the data and generates visualizations to compare neural network predictions with actual data points.</li>
</ul>
</section>
<section id="sample-code-snippet-from-main_04.m" class="level4">
<h4 class="anchored" data-anchor-id="sample-code-snippet-from-main_04.m">Sample Code Snippet from <code>main_04.m</code></h4>
<p>The following MATLAB code snippet from <code>main_04.m</code> demonstrates how to load data, train neural networks, and visualize the results:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="va">clear</span><span class="op">;</span> <span class="va">clc</span><span class="op">;</span> <span class="va">clf</span><span class="op">;</span> <span class="va">close</span> <span class="va">all</span><span class="op">;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">% Load data</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QDP_table.mat'</span>)<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QDP_table.mat'</span>)<span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">% Extract data</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="va">QH</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="va">D</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="va">QD</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="va">P</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">% Train on full dataset</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>[<span class="va">trainedNetQHD</span><span class="op">,</span> <span class="op">~,</span> <span class="op">~,</span> <span class="op">~,</span> <span class="op">~</span>] <span class="op">=</span> <span class="va">train_nn</span>([<span class="fl">2</span><span class="op">,</span> <span class="fl">16</span>]<span class="op">,</span> <span class="fl">191</span><span class="op">,</span> <span class="ss">'trainlm'</span><span class="op">,</span> <span class="va">QH</span><span class="op">,</span> <span class="va">D</span><span class="op">,</span> <span class="fl">4837</span>)<span class="op">;</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>[<span class="va">trainedNetQDP</span><span class="op">,</span> <span class="op">~,</span> <span class="op">~,</span> <span class="op">~,</span> <span class="op">~</span>] <span class="op">=</span> <span class="va">train_nn</span>([<span class="fl">2</span><span class="op">,</span> <span class="fl">7</span><span class="op">,</span> <span class="fl">29</span><span class="op">,</span> <span class="fl">17</span>]<span class="op">,</span> <span class="fl">191</span><span class="op">,</span> <span class="ss">'trainlm'</span><span class="op">,</span> <span class="va">QD</span><span class="op">,</span> <span class="va">P</span><span class="op">,</span> <span class="fl">4837</span>)<span class="op">;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co">% Visualization</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="va">processDataAndVisualize</span>(<span class="va">QH</span><span class="op">',</span> <span class="va">D</span><span class="op">',</span> <span class="va">QD</span><span class="op">',</span> <span class="va">P</span><span class="op">',</span> <span class="va">trainedNetQHD</span><span class="op">,</span> <span class="va">trainedNetQDP</span><span class="op">,</span> <span class="ss">'figures'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="script-qhfordiameters.m" class="level3">
<h3 class="anchored" data-anchor-id="script-qhfordiameters.m">Script: QHforDiameters.m</h3>
<p>The <code>QHforDiameters.m</code> script focuses on optimizing neural network hyperparameters for better performance prediction. It uses a genetic algorithm to find the optimal neural network architecture, ensuring accurate predictions for different impeller diameters.</p>
<section id="key-steps-in-qhfordiameters.m" class="level4">
<h4 class="anchored" data-anchor-id="key-steps-in-qhfordiameters.m">Key Steps in <code>QHforDiameters.m</code></h4>
<ol type="1">
<li><strong>Initialization</strong>: Loading data and initializing variables.</li>
<li><strong>Hyperparameter Optimization</strong>: Using a genetic algorithm to find the optimal neural network architecture.</li>
<li><strong>Performance Evaluation</strong>: Assessing the neural network’s performance on the training and test datasets.</li>
<li><strong>Visualization</strong>: Plotting the predicted performance curves for different impeller diameters.</li>
</ol>
</section>
<section id="sample-code-snippet-from-qhfordiameters.m" class="level4">
<h4 class="anchored" data-anchor-id="sample-code-snippet-from-qhfordiameters.m">Sample Code Snippet from <code>QHforDiameters.m</code></h4>
<p>The following MATLAB code snippet from <code>QHforDiameters.m</code> illustrates the process of optimizing neural network hyperparameters and visualizing the results:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="va">clear</span><span class="op">;</span> <span class="va">clc</span><span class="op">;</span> <span class="va">clf</span><span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QDP_table.mat'</span>)<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QDP_table.mat'</span>)<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="va">QH</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="va">D</span>  <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="va">QH_beps</span><span class="op">=</span>[<span class="va">deleted_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span><span class="va">deleted_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="va">D_beps</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="op">=</span>[<span class="va">deleted_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="va">QD</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span><span class="va">filtered_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="va">P</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="va">QD_beps</span><span class="op">=</span>[<span class="va">deleted_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span><span class="va">deleted_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="va">P_beps</span><span class="op">=</span>[<span class="va">deleted_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="co">% User-specified random seed (optional)</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="va">userSeed</span> <span class="op">=</span> <span class="fl">4826</span><span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="co">% Define a threshold for MSE to exit the loop early</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="va">mseThreshold</span> <span class="op">=</span> <span class="fl">0.000199</span><span class="op">;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="co">% Initialize result matrix</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="va">result</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="co">% Find all distinct diameters in D</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="va">distinctDiameters</span> <span class="op">=</span> <span class="va">unique</span>(<span class="va">D</span>)<span class="op">;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="co">% Weights for combining MSEs</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="va">weightDiameter</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="va">weightBeps</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">dIdx</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">length</span>(<span class="va">distinctDiameters</span>)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Current diameter to remove</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="va">diameterToRemove</span> <span class="op">=</span> <span class="va">distinctDiameters</span>(<span class="va">dIdx</span>)<span class="op">;</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Remove the current diameter from QH and D</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="va">idxToKeep</span> <span class="op">=</span> <span class="va">D</span> <span class="op">~=</span> <span class="va">diameterToRemove</span><span class="op">;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>    <span class="va">QH_filtered</span> <span class="op">=</span> <span class="va">QH</span>(<span class="op">:,</span> <span class="va">idxToKeep</span>)<span class="op">;</span></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    <span class="va">D_filtered</span> <span class="op">=</span> <span class="va">D</span>(<span class="va">idxToKeep</span>)<span class="op">;</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Calculate the number of epochs based on dataset size</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>    <span class="va">maxEpochs</span> <span class="op">=</span> <span class="fl">1000</span> <span class="op">+</span> <span class="va">floor</span>(<span class="va">size</span>(<span class="va">QH_filtered</span><span class="op">,</span> <span class="fl">2</span>) <span class="op">/</span> <span class="fl">10</span>)<span class="op">;</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Determine the number of hidden layers and neurons to search</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    <span class="va">hiddenLayers</span> <span class="op">=</span> [<span class="fl">1</span><span class="op">:</span><span class="fl">10</span>]<span class="op">;</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="va">neuronsPerLayer</span> <span class="op">=</span> [<span class="fl">1</span><span class="op">:</span><span class="fl">30</span>]<span class="op">;</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Initialize the best MSE and corresponding architecture</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>    <span class="va">bestMSE</span> <span class="op">=</span> <span class="va">Inf</span><span class="op">;</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>    <span class="va">bestArch</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Random seed for reproducibility</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="qhd-results-table" class="level3">
<h3 class="anchored" data-anchor-id="qhd-results-table">QHD results table</h3>
<div id="7fa17c84" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the QHD results table</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>qhd_results <span class="op">=</span> pd.read_csv(<span class="st">'QHD_results.csv'</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns to ensure headers are displayed correctly</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>qhd_results.columns <span class="op">=</span> [<span class="st">'DiameterRemoved'</span>, <span class="st">'AvgMSE'</span>, <span class="st">'TrainPerformance'</span>, <span class="st">'ValPerformance'</span>, <span class="st">'TestPerformance'</span>, <span class="st">'MSEDeletedDiameter'</span>, <span class="st">'MSEBEPs'</span>]</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>qhd_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">DiameterRemoved</th>
<th data-quarto-table-cell-role="th">AvgMSE</th>
<th data-quarto-table-cell-role="th">TrainPerformance</th>
<th data-quarto-table-cell-role="th">ValPerformance</th>
<th data-quarto-table-cell-role="th">TestPerformance</th>
<th data-quarto-table-cell-role="th">MSEDeletedDiameter</th>
<th data-quarto-table-cell-role="th">MSEBEPs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>230</td>
<td>0.025035</td>
<td>0.006973</td>
<td>0.013087</td>
<td>0.063566</td>
<td>13.109880</td>
<td>0.887325</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>240</td>
<td>0.002054</td>
<td>0.001905</td>
<td>0.002182</td>
<td>0.002146</td>
<td>0.174083</td>
<td>0.033176</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>250</td>
<td>0.003343</td>
<td>0.002433</td>
<td>0.004716</td>
<td>0.003316</td>
<td>0.626366</td>
<td>0.015352</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>260</td>
<td>0.002077</td>
<td>0.001944</td>
<td>0.001985</td>
<td>0.002364</td>
<td>23.101650</td>
<td>0.330787</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="qdp-results-tabel" class="level3">
<h3 class="anchored" data-anchor-id="qdp-results-tabel">QDP results tabel</h3>
<div id="fc37cfac" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the QDP results table</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>qdp_results <span class="op">=</span> pd.read_csv(<span class="st">'QDP_results.csv'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>qdp_results.columns <span class="op">=</span> [<span class="st">'DiameterRemoved'</span>, <span class="st">'AvgMSE'</span>, <span class="st">'TrainPerformance'</span>, <span class="st">'ValPerformance'</span>, <span class="st">'TestPerformance'</span>, <span class="st">'MSEDeletedDiameter'</span>, <span class="st">'MSEBEPs'</span>]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>qdp_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">DiameterRemoved</th>
<th data-quarto-table-cell-role="th">AvgMSE</th>
<th data-quarto-table-cell-role="th">TrainPerformance</th>
<th data-quarto-table-cell-role="th">ValPerformance</th>
<th data-quarto-table-cell-role="th">TestPerformance</th>
<th data-quarto-table-cell-role="th">MSEDeletedDiameter</th>
<th data-quarto-table-cell-role="th">MSEBEPs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>230</td>
<td>1.061458</td>
<td>1.074642</td>
<td>1.005925</td>
<td>1.097531</td>
<td>1.459545</td>
<td>0.504712</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>240</td>
<td>0.856944</td>
<td>0.717666</td>
<td>0.856781</td>
<td>1.062996</td>
<td>2.272058</td>
<td>0.855605</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>250</td>
<td>0.001608</td>
<td>0.001304</td>
<td>0.001949</td>
<td>0.001718</td>
<td>11.410656</td>
<td>0.001787</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>260</td>
<td>0.001312</td>
<td>0.001193</td>
<td>0.001446</td>
<td>0.001355</td>
<td>3.709925</td>
<td>0.001861</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="qdh-results-tabel" class="level3">
<h3 class="anchored" data-anchor-id="qdh-results-tabel">QDH results tabel</h3>
<div id="2c1536ba" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the QDH results table</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>qdh_results <span class="op">=</span> pd.read_csv(<span class="st">'QDH_results.csv'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>qdh_results.columns <span class="op">=</span> [<span class="st">'DiameterRemoved'</span>, <span class="st">'AvgMSE'</span>, <span class="st">'TrainPerformance'</span>, <span class="st">'ValPerformance'</span>, <span class="st">'TestPerformance'</span>, <span class="st">'MSEDeletedDiameter'</span>, <span class="st">'MSEBEPs'</span>]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>qdh_results</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">DiameterRemoved</th>
<th data-quarto-table-cell-role="th">AvgMSE</th>
<th data-quarto-table-cell-role="th">TrainPerformance</th>
<th data-quarto-table-cell-role="th">ValPerformance</th>
<th data-quarto-table-cell-role="th">TestPerformance</th>
<th data-quarto-table-cell-role="th">MSEDeletedDiameter</th>
<th data-quarto-table-cell-role="th">MSEBEPs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>230</td>
<td>0.003924</td>
<td>0.002607</td>
<td>0.002910</td>
<td>0.006876</td>
<td>0.030449</td>
<td>0.001832</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>240</td>
<td>2.324643</td>
<td>2.171064</td>
<td>2.720251</td>
<td>2.155551</td>
<td>22.142540</td>
<td>4.378357</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>250</td>
<td>0.002601</td>
<td>0.001929</td>
<td>0.003371</td>
<td>0.002826</td>
<td>781.213228</td>
<td>201.866566</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>260</td>
<td>0.002949</td>
<td>0.002372</td>
<td>0.004189</td>
<td>0.002559</td>
<td>5.875235</td>
<td>0.017837</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="errors-and-reductions" class="level3">
<h3 class="anchored" data-anchor-id="errors-and-reductions">errors and reductions</h3>
<p>here we compare the best neural network we have with the traditional <em>constant area scaling methode form [weme paper need citation]</em> where</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Loop through each column in QH_beps</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">i</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">d_real</span> <span class="op">=</span> <span class="va">D_beps</span>(<span class="fl">1</span><span class="op">,</span> <span class="va">i</span>)<span class="op">;</span> <span class="co">% Extracting d_real from D_beps</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Calculate d using constant_area_scaling</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">d_trimmed_cas_260</span> <span class="op">=</span> <span class="va">constant_area_scaling</span>(<span class="va">QH_beps</span>(<span class="fl">1</span><span class="op">,</span> <span class="va">i</span>)<span class="op">,</span> <span class="va">QH_beps</span>(<span class="fl">2</span><span class="op">,</span> <span class="va">i</span>)<span class="op">,</span> <span class="va">pump_data</span>(<span class="fl">5</span>).<span class="va">Q</span><span class="op">,</span> <span class="va">pump_data</span>(<span class="fl">5</span>).<span class="va">H</span><span class="op">,</span> <span class="va">pump_data</span>(<span class="fl">5</span>).<span class="va">Diameter</span><span class="op">,</span> <span class="fl">4</span>)<span class="op">;</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">percent_errors_cas_260</span>(<span class="va">i</span>) <span class="op">=</span> <span class="va">abs</span>((<span class="va">d_trimmed_cas_260</span> <span class="op">-</span> <span class="va">d_real</span>) <span class="op">/</span> <span class="va">d_real</span>) <span class="op">*</span> <span class="fl">100</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Calculate d using trim_diameters</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">d_trimmed_cas_nearest</span> <span class="op">=</span> <span class="va">trim_diameters</span>(<span class="va">QH_beps</span>(<span class="op">:,</span> <span class="va">i</span>)<span class="op">,</span> <span class="ss">'filtered_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">percent_errors_cas_nearest</span>(<span class="va">i</span>) <span class="op">=</span> <span class="va">abs</span>((<span class="va">d_trimmed_cas_nearest</span> <span class="op">-</span> <span class="va">d_real</span>) <span class="op">/</span> <span class="va">d_real</span>) <span class="op">*</span> <span class="fl">100</span><span class="op">;</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Calculate d using trainedNetQHD</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">d_trimmed_nn</span> <span class="op">=</span> <span class="va">bestNetQHD</span>.<span class="va">net</span>(<span class="va">QH_beps</span>(<span class="op">:,</span> <span class="va">i</span>))<span class="op">;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="va">percent_errors_nn</span>(<span class="va">i</span>) <span class="op">=</span> <span class="va">abs</span>((<span class="va">d_trimmed_nn</span> <span class="op">-</span> <span class="va">d_real</span>) <span class="op">/</span> <span class="va">d_real</span>) <span class="op">*</span> <span class="fl">100</span><span class="op">;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">% Calculate percent reduction in diameter</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">percent_reductions</span>(<span class="va">i</span>) <span class="op">=</span> <span class="va">abs</span>((<span class="va">d_real</span> <span class="op">-</span> <span class="va">d_trimmed_nn</span>) <span class="op">/</span> <span class="va">d_real</span>) <span class="op">*</span> <span class="fl">100</span><span class="op">;</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>as we see here we do so in two different variants where in <code>percent_errors_cas_260</code> we feed to <code>constant_area_scaling</code> the last diameter the $ 260:mm $ diameter as the base diameter and for all the test points which are the best effecincy points they will trimm form it and this gives greater error as you see below.</p>
<p>while <code>trim_diameters</code> the function will find the nearst curve from the given 5 curves to trim againist it and this will reduce the error so much but it still higher that the nn by order of magnitude.</p>
<div id="99918a1f" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>erros_reductions <span class="op">=</span> pd.read_csv(<span class="st">'errors_and_reductions.csv'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>erros_reductions .columns <span class="op">=</span> [<span class="st">'Index'</span>, <span class="st">'Percent_Error_CAS_260'</span>, <span class="st">'Percent_Error_CAS_Nearest'</span>, <span class="st">'Percent_Error_NN'</span>, <span class="st">'Percent_Reduction'</span>]</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>erros_reductions </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Index</th>
<th data-quarto-table-cell-role="th">Percent_Error_CAS_260</th>
<th data-quarto-table-cell-role="th">Percent_Error_CAS_Nearest</th>
<th data-quarto-table-cell-role="th">Percent_Error_NN</th>
<th data-quarto-table-cell-role="th">Percent_Reduction</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>241.145202</td>
<td>3.261635</td>
<td>2.541009</td>
<td>2.541009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2</td>
<td>241.798697</td>
<td>3.076349</td>
<td>3.588867</td>
<td>3.588867</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>3</td>
<td>238.978142</td>
<td>8.063994</td>
<td>3.085461</td>
<td>3.085461</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>4</td>
<td>228.293618</td>
<td>1.351752</td>
<td>2.207965</td>
<td>2.207965</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>5</td>
<td>245.536126</td>
<td>3.828971</td>
<td>2.299324</td>
<td>2.299324</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="final-stats" class="level3">
<h3 class="anchored" data-anchor-id="final-stats">final stats</h3>
<div id="2c44443b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fstats <span class="op">=</span> pd.read_csv(<span class="st">'final_statistics.csv'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>fstats.columns <span class="op">=</span> [<span class="st">'MAE_Trim_Diameters'</span>, <span class="st">'MAE_TrainedNetQHD'</span>, <span class="st">'Count_Better_TrainedNetQHD'</span>, <span class="st">'Count_Better_Trim_Diameters'</span>]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>fstats</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">MAE_Trim_Diameters</th>
<th data-quarto-table-cell-role="th">MAE_TrainedNetQHD</th>
<th data-quarto-table-cell-role="th">Count_Better_TrainedNetQHD</th>
<th data-quarto-table-cell-role="th">Count_Better_Trim_Diameters</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>3.91654</td>
<td>2.744525</td>
<td>3</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
</section>
</section>
<section id="figures" class="level1 page-columns page-full">
<h1>Figures</h1>
<div id="listing-gallery" class="column-page quarto-listing quarto-listing-container-custom">

<h2 class="anchored" data-anchor-id="figures">Figures</h2>

<p>Gallery of Figures</p>

<div class="list grid" style="column-gap: 10px;">

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="0">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">best_nn_diameter_power_visualization_2024-06-26_23-49-25</a>
        
        <span class="text-muted listing-subtitle">Description of best_nn_diameter_power_visualization_2024-06-26_23-49-25</span>
      </small>
    </div>
    <a href="">
      <img src="figures/best_nn_diameter_power_visualization_2024-06-26_23-49-25.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="1">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">best_nn_diameter_power_visualization_2024-06-27_05-02-57</a>
        
        <span class="text-muted listing-subtitle">Description of best_nn_diameter_power_visualization_2024-06-27_05-02-57</span>
      </small>
    </div>
    <a href="">
      <img src="figures/best_nn_diameter_power_visualization_2024-06-27_05-02-57.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="2">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_10_2-51-264-1-1_mseDia-4.631136e-03_test-1.474209e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_10_2-51-264-1-1_mseDia-4.631136e-03_test-1.474209e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_10_2-51-264-1-1_mseDia-4.631136e-03_test-1.474209e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="3">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_11_2-52-261-1-1_mseDia-3.540134e-02_test-5.639226e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_11_2-52-261-1-1_mseDia-3.540134e-02_test-5.639226e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_11_2-52-261-1-1_mseDia-3.540134e-02_test-5.639226e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="4">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_12_2-51-262-1-1_mseDia-6.829475e-03_test-4.445475e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_12_2-51-262-1-1_mseDia-6.829475e-03_test-4.445475e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_12_2-51-262-1-1_mseDia-6.829475e-03_test-4.445475e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="5">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_13_2-52-264-1-1_mseDia-4.526453e-04_test-6.299822e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_13_2-52-264-1-1_mseDia-4.526453e-04_test-6.299822e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_13_2-52-264-1-1_mseDia-4.526453e-04_test-6.299822e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="6">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_14_2-51-259-1-1_mseDia-2.193948e-03_test-2.819540e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_14_2-51-259-1-1_mseDia-2.193948e-03_test-2.819540e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_14_2-51-259-1-1_mseDia-2.193948e-03_test-2.819540e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="7">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_15_2-52-264-1-1_mseDia-1.869470e-02_test-1.080346e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_15_2-52-264-1-1_mseDia-1.869470e-02_test-1.080346e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_15_2-52-264-1-1_mseDia-1.869470e-02_test-1.080346e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="8">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_16_2-51-264-1-1_mseDia-2.089594e-03_test-3.406835e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_16_2-51-264-1-1_mseDia-2.089594e-03_test-3.406835e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_16_2-51-264-1-1_mseDia-2.089594e-03_test-3.406835e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="9">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_17_2-51-263-1-1_mseDia-6.729495e-02_test-9.282804e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_17_2-51-263-1-1_mseDia-6.729495e-02_test-9.282804e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_17_2-51-263-1-1_mseDia-6.729495e-02_test-9.282804e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="10">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_18_2-52-260-1-1_mseDia-5.216853e-03_test-1.034067e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_18_2-52-260-1-1_mseDia-5.216853e-03_test-1.034067e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_18_2-52-260-1-1_mseDia-5.216853e-03_test-1.034067e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="11">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_19_2-51-262-1-1_mseDia-4.303755e-04_test-5.570226e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_19_2-51-262-1-1_mseDia-4.303755e-04_test-5.570226e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_19_2-51-262-1-1_mseDia-4.303755e-04_test-5.570226e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="12">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_1_2-48-255-1-1_mseDia-1.451433e-04_test-1.443107e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_1_2-48-255-1-1_mseDia-1.451433e-04_test-1.443107e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_1_2-48-255-1-1_mseDia-1.451433e-04_test-1.443107e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="13">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_20_2-52-262-1-1_mseDia-7.448321e-03_test-9.132916e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_20_2-52-262-1-1_mseDia-7.448321e-03_test-9.132916e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_20_2-52-262-1-1_mseDia-7.448321e-03_test-9.132916e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="14">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_2_2-51-261-1-1_mseDia-7.942964e-01_test-2.495736e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_2_2-51-261-1-1_mseDia-7.942964e-01_test-2.495736e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_2_2-51-261-1-1_mseDia-7.942964e-01_test-2.495736e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="15">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_3_2-50-262-1-1_mseDia-1.662826e-01_test-8.739276e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_3_2-50-262-1-1_mseDia-1.662826e-01_test-8.739276e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_3_2-50-262-1-1_mseDia-1.662826e-01_test-8.739276e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="16">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_4_2-50-263-1-1_mseDia-5.526657e-03_test-2.431055e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_4_2-50-263-1-1_mseDia-5.526657e-03_test-2.431055e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_4_2-50-263-1-1_mseDia-5.526657e-03_test-2.431055e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="17">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_5_2-52-261-1-1_mseDia-5.826613e-02_test-2.183893e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_5_2-52-261-1-1_mseDia-5.826613e-02_test-2.183893e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_5_2-52-261-1-1_mseDia-5.826613e-02_test-2.183893e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="18">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_6_2-51-264-1-1_mseDia-1.620744e-01_test-7.017350e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_6_2-51-264-1-1_mseDia-1.620744e-01_test-7.017350e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_6_2-51-264-1-1_mseDia-1.620744e-01_test-7.017350e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="19">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_7_2-51-259-1-1_mseDia-3.427594e-04_test-1.807621e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_7_2-51-259-1-1_mseDia-3.427594e-04_test-1.807621e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_7_2-51-259-1-1_mseDia-3.427594e-04_test-1.807621e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="20">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_8_2-52-263-1-1_mseDia-1.049658e-03_test-9.818476e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_8_2-52-263-1-1_mseDia-1.049658e-03_test-9.818476e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_8_2-52-263-1-1_mseDia-1.049658e-03_test-9.818476e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="21">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-220_iteration_9_2-52-262-1-1_mseDia-5.042946e-01_test-4.279715e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-220_iteration_9_2-52-262-1-1_mseDia-5.042946e-01_test-4.279715e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-220_iteration_9_2-52-262-1-1_mseDia-5.042946e-01_test-4.279715e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="22">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_10_2-16-192-1-1_mseDia-6.539777e-06_test-4.418643e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_10_2-16-192-1-1_mseDia-6.539777e-06_test-4.418643e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_10_2-16-192-1-1_mseDia-6.539777e-06_test-4.418643e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="23">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_11_2-16-191-1-1_mseDia-1.897601e-04_test-8.967212e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_11_2-16-191-1-1_mseDia-1.897601e-04_test-8.967212e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_11_2-16-191-1-1_mseDia-1.897601e-04_test-8.967212e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="24">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_1_2-14-189-1-1_mseDia-2.123792e-04_test-2.682739e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_1_2-14-189-1-1_mseDia-2.123792e-04_test-2.682739e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_1_2-14-189-1-1_mseDia-2.123792e-04_test-2.682739e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="25">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_2_2-15-191-1-1_mseDia-4.573431e-04_test-3.076450e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_2_2-15-191-1-1_mseDia-4.573431e-04_test-3.076450e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_2_2-15-191-1-1_mseDia-4.573431e-04_test-3.076450e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="26">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_3_2-16-191-1-1_mseDia-2.098153e-05_test-1.996420e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_3_2-16-191-1-1_mseDia-2.098153e-05_test-1.996420e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_3_2-16-191-1-1_mseDia-2.098153e-05_test-1.996420e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="27">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_4_2-16-193-1-1_mseDia-2.922957e-05_test-1.140381e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_4_2-16-193-1-1_mseDia-2.922957e-05_test-1.140381e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_4_2-16-193-1-1_mseDia-2.922957e-05_test-1.140381e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="28">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_5_2-16-194-1-1_mseDia-2.667331e-05_test-3.306433e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_5_2-16-194-1-1_mseDia-2.667331e-05_test-3.306433e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_5_2-16-194-1-1_mseDia-2.667331e-05_test-3.306433e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="29">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_6_2-15-195-1-1_mseDia-7.611546e-03_test-7.003550e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_6_2-15-195-1-1_mseDia-7.611546e-03_test-7.003550e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_6_2-15-195-1-1_mseDia-7.611546e-03_test-7.003550e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="30">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_7_2-15-195-1-1_mseDia-2.203415e-02_test-2.568556e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_7_2-15-195-1-1_mseDia-2.203415e-02_test-2.568556e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_7_2-15-195-1-1_mseDia-2.203415e-02_test-2.568556e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="31">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_8_2-16-194-1-1_mseDia-2.878154e-05_test-4.467712e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_8_2-16-194-1-1_mseDia-2.878154e-05_test-4.467712e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_8_2-16-194-1-1_mseDia-2.878154e-05_test-4.467712e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="32">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-230_iteration_9_2-15-190-1-1_mseDia-1.608663e-05_test-2.695317e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-230_iteration_9_2-15-190-1-1_mseDia-1.608663e-05_test-2.695317e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-230_iteration_9_2-15-190-1-1_mseDia-1.608663e-05_test-2.695317e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="33">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-240_iteration_1_2-40-264-1-1_mseDia-1.552556e-06_test-2.915896e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-240_iteration_1_2-40-264-1-1_mseDia-1.552556e-06_test-2.915896e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-240_iteration_1_2-40-264-1-1_mseDia-1.552556e-06_test-2.915896e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="34">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-240_iteration_2_2-40-250-1-1_mseDia-1.717564e-04_test-2.364596e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-240_iteration_2_2-40-250-1-1_mseDia-1.717564e-04_test-2.364596e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-240_iteration_2_2-40-250-1-1_mseDia-1.717564e-04_test-2.364596e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="35">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-240_iteration_3_2-40-251-1-1_mseDia-1.426877e-03_test-2.078074e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-240_iteration_3_2-40-251-1-1_mseDia-1.426877e-03_test-2.078074e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-240_iteration_3_2-40-251-1-1_mseDia-1.426877e-03_test-2.078074e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="36">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-240_iteration_4_2-39-249-1-1_mseDia-6.810560e-05_test-1.279386e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-240_iteration_4_2-39-249-1-1_mseDia-6.810560e-05_test-1.279386e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-240_iteration_4_2-39-249-1-1_mseDia-6.810560e-05_test-1.279386e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="37">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_10_2-43-254-1-1_mseDia-8.299140e-03_test-7.474668e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_10_2-43-254-1-1_mseDia-8.299140e-03_test-7.474668e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_10_2-43-254-1-1_mseDia-8.299140e-03_test-7.474668e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="38">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_11_2-43-255-1-1_mseDia-2.468579e-01_test-3.724990e+01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_11_2-43-255-1-1_mseDia-2.468579e-01_test-3.724990e+01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_11_2-43-255-1-1_mseDia-2.468579e-01_test-3.724990e+01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="39">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_12_2-43-252-1-1_mseDia-1.497363e-03_test-8.321293e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_12_2-43-252-1-1_mseDia-1.497363e-03_test-8.321293e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_12_2-43-252-1-1_mseDia-1.497363e-03_test-8.321293e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="40">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_13_2-43-252-1-1_mseDia-5.627291e-04_test-3.175057e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_13_2-43-252-1-1_mseDia-5.627291e-04_test-3.175057e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_13_2-43-252-1-1_mseDia-5.627291e-04_test-3.175057e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="41">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_14_2-43-250-1-1_mseDia-2.920388e-04_test-4.679399e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_14_2-43-250-1-1_mseDia-2.920388e-04_test-4.679399e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_14_2-43-250-1-1_mseDia-2.920388e-04_test-4.679399e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="42">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_15_2-44-255-1-1_mseDia-1.510201e-02_test-1.263276e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_15_2-44-255-1-1_mseDia-1.510201e-02_test-1.263276e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_15_2-44-255-1-1_mseDia-1.510201e-02_test-1.263276e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="43">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_16_2-43-250-1-1_mseDia-6.112923e-05_test-2.322065e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_16_2-43-250-1-1_mseDia-6.112923e-05_test-2.322065e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_16_2-43-250-1-1_mseDia-6.112923e-05_test-2.322065e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="44">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_1_2-40-254-1-1_mseDia-2.762442e-04_test-1.058931e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_1_2-40-254-1-1_mseDia-2.762442e-04_test-1.058931e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_1_2-40-254-1-1_mseDia-2.762442e-04_test-1.058931e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="45">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_2_2-44-255-1-1_mseDia-4.458115e-03_test-3.020039e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_2_2-44-255-1-1_mseDia-4.458115e-03_test-3.020039e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_2_2-44-255-1-1_mseDia-4.458115e-03_test-3.020039e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="46">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_3_2-43-250-1-1_mseDia-2.587186e-03_test-9.379359e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_3_2-43-250-1-1_mseDia-2.587186e-03_test-9.379359e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_3_2-43-250-1-1_mseDia-2.587186e-03_test-9.379359e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="47">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_4_2-44-253-1-1_mseDia-4.812756e-02_test-2.261070e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_4_2-44-253-1-1_mseDia-4.812756e-02_test-2.261070e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_4_2-44-253-1-1_mseDia-4.812756e-02_test-2.261070e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="48">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_5_2-43-250-1-1_mseDia-3.731435e-03_test-1.737575e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_5_2-43-250-1-1_mseDia-3.731435e-03_test-1.737575e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_5_2-43-250-1-1_mseDia-3.731435e-03_test-1.737575e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="49">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_6_2-44-253-1-1_mseDia-1.436546e-04_test-1.130975e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_6_2-44-253-1-1_mseDia-1.436546e-04_test-1.130975e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_6_2-44-253-1-1_mseDia-1.436546e-04_test-1.130975e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="50">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_7_2-44-254-1-1_mseDia-9.584743e-03_test-2.373867e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_7_2-44-254-1-1_mseDia-9.584743e-03_test-2.373867e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_7_2-44-254-1-1_mseDia-9.584743e-03_test-2.373867e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="51">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_8_2-43-253-1-1_mseDia-4.389759e-03_test-3.646521e+00</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_8_2-43-253-1-1_mseDia-4.389759e-03_test-3.646521e+00</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_8_2-43-253-1-1_mseDia-4.389759e-03_test-3.646521e+00.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="52">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-250_iteration_9_2-43-250-1-1_mseDia-6.934819e-04_test-1.905809e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-250_iteration_9_2-43-250-1-1_mseDia-6.934819e-04_test-1.905809e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-250_iteration_9_2-43-250-1-1_mseDia-6.934819e-04_test-1.905809e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="53">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_10_2-50-242-1-1_mseDia-5.610540e+00_test-1.390688e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_10_2-50-242-1-1_mseDia-5.610540e+00_test-1.390688e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_10_2-50-242-1-1_mseDia-5.610540e+00_test-1.390688e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="54">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_11_2-49-240-1-1_mseDia-3.939663e-03_test-1.532100e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_11_2-49-240-1-1_mseDia-3.939663e-03_test-1.532100e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_11_2-49-240-1-1_mseDia-3.939663e-03_test-1.532100e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="55">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_12_2-50-245-1-1_mseDia-5.483495e-03_test-1.260306e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_12_2-50-245-1-1_mseDia-5.483495e-03_test-1.260306e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_12_2-50-245-1-1_mseDia-5.483495e-03_test-1.260306e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="56">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_13_2-49-242-1-1_mseDia-2.719966e-03_test-1.262362e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_13_2-49-242-1-1_mseDia-2.719966e-03_test-1.262362e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_13_2-49-242-1-1_mseDia-2.719966e-03_test-1.262362e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="57">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_14_2-49-240-1-1_mseDia-1.135403e-02_test-1.048174e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_14_2-49-240-1-1_mseDia-1.135403e-02_test-1.048174e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_14_2-49-240-1-1_mseDia-1.135403e-02_test-1.048174e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="58">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_15_2-50-245-1-1_mseDia-1.914322e-02_test-8.892275e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_15_2-50-245-1-1_mseDia-1.914322e-02_test-8.892275e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_15_2-50-245-1-1_mseDia-1.914322e-02_test-8.892275e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="59">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_16_2-49-240-1-1_mseDia-2.427548e-03_test-9.909529e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_16_2-49-240-1-1_mseDia-2.427548e-03_test-9.909529e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_16_2-49-240-1-1_mseDia-2.427548e-03_test-9.909529e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="60">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_17_2-49-240-1-1_mseDia-8.289200e-02_test-9.554322e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_17_2-49-240-1-1_mseDia-8.289200e-02_test-9.554322e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_17_2-49-240-1-1_mseDia-8.289200e-02_test-9.554322e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="61">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_18_2-50-245-1-1_mseDia-4.468881e-03_test-1.010439e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_18_2-50-245-1-1_mseDia-4.468881e-03_test-1.010439e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_18_2-50-245-1-1_mseDia-4.468881e-03_test-1.010439e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="62">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_19_2-49-243-1-1_mseDia-3.609624e-03_test-3.850919e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_19_2-49-243-1-1_mseDia-3.609624e-03_test-3.850919e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_19_2-49-243-1-1_mseDia-3.609624e-03_test-3.850919e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="63">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_1_2-49-255-1-1_mseDia-4.136578e-03_test-1.113098e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_1_2-49-255-1-1_mseDia-4.136578e-03_test-1.113098e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_1_2-49-255-1-1_mseDia-4.136578e-03_test-1.113098e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="64">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_20_2-50-243-1-1_mseDia-3.500926e-02_test-7.055046e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_20_2-50-243-1-1_mseDia-3.500926e-02_test-7.055046e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_20_2-50-243-1-1_mseDia-3.500926e-02_test-7.055046e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="65">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_2_2-49-241-1-1_mseDia-6.520750e-03_test-9.190240e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_2_2-49-241-1-1_mseDia-6.520750e-03_test-9.190240e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_2_2-49-241-1-1_mseDia-6.520750e-03_test-9.190240e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="66">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_3_2-49-242-1-1_mseDia-5.176642e-03_test-8.972362e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_3_2-49-242-1-1_mseDia-5.176642e-03_test-8.972362e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_3_2-49-242-1-1_mseDia-5.176642e-03_test-8.972362e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="67">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_4_2-49-240-1-1_mseDia-3.486987e-03_test-1.148965e-02</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_4_2-49-240-1-1_mseDia-3.486987e-03_test-1.148965e-02</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_4_2-49-240-1-1_mseDia-3.486987e-03_test-1.148965e-02.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="68">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_5_2-49-244-1-1_mseDia-4.711585e-02_test-2.015901e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_5_2-49-244-1-1_mseDia-4.711585e-02_test-2.015901e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_5_2-49-244-1-1_mseDia-4.711585e-02_test-2.015901e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="69">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_6_2-48-240-1-1_mseDia-3.580358e-03_test-1.035566e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_6_2-48-240-1-1_mseDia-3.580358e-03_test-1.035566e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_6_2-48-240-1-1_mseDia-3.580358e-03_test-1.035566e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="70">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_7_2-50-242-1-1_mseDia-5.120050e-03_test-4.864993e-03</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_7_2-50-242-1-1_mseDia-5.120050e-03_test-4.864993e-03</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_7_2-50-242-1-1_mseDia-5.120050e-03_test-4.864993e-03.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="71">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_8_2-49-244-1-1_mseDia-2.680748e+01_test-4.151179e-01</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_8_2-49-244-1-1_mseDia-2.680748e+01_test-4.151179e-01</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_8_2-49-244-1-1_mseDia-2.680748e+01_test-4.151179e-01.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="72">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">nn_diameter-260_iteration_9_2-49-240-1-1_mseDia-5.274027e-01_test-9.101108e-04</a>
        
        <span class="text-muted listing-subtitle">Description of nn_diameter-260_iteration_9_2-49-240-1-1_mseDia-5.274027e-01_test-9.101108e-04</span>
      </small>
    </div>
    <a href="">
      <img src="figures/nn_diameter-260_iteration_9_2-49-240-1-1_mseDia-5.274027e-01_test-9.101108e-04.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="73">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDH_Diameter_220</a>
        
        <span class="text-muted listing-subtitle">Description of QDH_Diameter_220</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDH_Diameter_220.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="74">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDH_Diameter_230</a>
        
        <span class="text-muted listing-subtitle">Description of QDH_Diameter_230</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDH_Diameter_230.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="75">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDH_Diameter_240</a>
        
        <span class="text-muted listing-subtitle">Description of QDH_Diameter_240</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDH_Diameter_240.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="76">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDH_Diameter_250</a>
        
        <span class="text-muted listing-subtitle">Description of QDH_Diameter_250</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDH_Diameter_250.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="77">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDH_Diameter_260</a>
        
        <span class="text-muted listing-subtitle">Description of QDH_Diameter_260</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDH_Diameter_260.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="78">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDP_Diameter_220</a>
        
        <span class="text-muted listing-subtitle">Description of QDP_Diameter_220</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDP_Diameter_220.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="79">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDP_Diameter_230</a>
        
        <span class="text-muted listing-subtitle">Description of QDP_Diameter_230</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDP_Diameter_230.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="80">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDP_Diameter_240</a>
        
        <span class="text-muted listing-subtitle">Description of QDP_Diameter_240</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDP_Diameter_240.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="81">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDP_Diameter_250</a>
        
        <span class="text-muted listing-subtitle">Description of QDP_Diameter_250</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDP_Diameter_250.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="82">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QDP_Diameter_260</a>
        
        <span class="text-muted listing-subtitle">Description of QDP_Diameter_260</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QDP_Diameter_260.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="83">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QHD_Diameter_220</a>
        
        <span class="text-muted listing-subtitle">Description of QHD_Diameter_220</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QHD_Diameter_220.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="84">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QHD_Diameter_230</a>
        
        <span class="text-muted listing-subtitle">Description of QHD_Diameter_230</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QHD_Diameter_230.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="85">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QHD_Diameter_240</a>
        
        <span class="text-muted listing-subtitle">Description of QHD_Diameter_240</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QHD_Diameter_240.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="86">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QHD_Diameter_250</a>
        
        <span class="text-muted listing-subtitle">Description of QHD_Diameter_250</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QHD_Diameter_250.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="87">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">QHD_Diameter_260</a>
        
        <span class="text-muted listing-subtitle">Description of QHD_Diameter_260</span>
      </small>
    </div>
    <a href="">
      <img src="figures/QHD_Diameter_260.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="88">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_eta_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_eta_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_eta_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="89">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_eta_mtk_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_eta_mtk_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_eta_mtk_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="90">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_H_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_H_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_H_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="91">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_H_mtk_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_H_mtk_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_H_mtk_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="92">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_P_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_P_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_P_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

  <div class="card border-2 rounded-3 g-col-12 g-col-sm-6 g-col-md-4 mb-2" data-index="93">
    <div class="card-header py-1 px-2 border-bottom border-1 bg-light">
      <small class="card-text inline-block">
        <a href="" class="listing-title">Q_P_mtk_curves_with_BEPs</a>
        
        <span class="text-muted listing-subtitle">Description of Q_P_mtk_curves_with_BEPs</span>
      </small>
    </div>
    <a href="">
      <img src="figures/Q_P_mtk_curves_with_BEPs.png" alt="" class="card-img-top">
    </a>
    
    
    
  </div>

</div>

<div class="listing-no-matching d-none">
No matching items
</div>
</div>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The use of Artificial Intelligence, particularly neural networks and genetic algorithms, provides a powerful tool for predicting the effects of impeller trimming on centrifugal pump performance. This approach offers significant advantages in terms of accuracy, efficiency, and adaptability, making it a superior alternative to traditional methods. By optimizing pump performance, we can achieve substantial energy savings and reduce environmental impact, contributing to a more sustainable industrial practice.</p>
<hr>
</section>
</section>
<section id="qhfordiameters.m-code-docs" class="level1">
<h1>QHforDiameters.m code docs</h1>
<p>this file is the pre-step to our final file main_04.m</p>
<p>This MATLAB script <code>QHforDiameters.m</code> demonstrates an advanced approach to optimizing pump impeller diameters using neural networks. By systematically training</p>
<p>and refining the network, we achieve a model capable of accurately predicting the optimal diameter, thereby improving pump efficiency. This methodology showcases the potential of AI in engineering applications, blending data-driven insights with practical engineering challenges.</p>
<section id="code-breakdown" class="level2">
<h2 class="anchored" data-anchor-id="code-breakdown">Code Breakdown</h2>
<section id="initial-setup" class="level3">
<h3 class="anchored" data-anchor-id="initial-setup">Initial Setup</h3>
<p>The script begins by clearing the workspace and loading several data files:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="va">clear</span><span class="op">;</span> <span class="va">clc</span><span class="op">;</span> <span class="va">clf</span><span class="op">;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QHD_table.mat'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QDP_table.mat'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QHD_table.mat'</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QDP_table.mat'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>filtered_QHD_table.mat</code> and <code>filtered_QDP_table.mat</code>: Contain the filtered data for flow rate (<code>Q</code>), head (<code>H</code>), and power (<code>P</code>) against diameters (<code>D</code>).</li>
<li><code>deleted_QHD_table.mat</code> and <code>deleted_QDP_table.mat</code>: Contain the data points excluded from the filtered tables.</li>
</ul>
</section>
<section id="data-preparation" class="level3">
<h3 class="anchored" data-anchor-id="data-preparation">Data Preparation</h3>
<p>The loaded data is then organized into matrices for further processing:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="va">QH</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="va">D</span>  <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="va">QH_beps</span> <span class="op">=</span> [<span class="va">deleted_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">deleted_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="va">D_beps</span> <span class="op">=</span> [<span class="va">deleted_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="va">QD</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="va">P</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="va">QD_beps</span> <span class="op">=</span> [<span class="va">deleted_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">deleted_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="va">P_beps</span> <span class="op">=</span> [<span class="va">deleted_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Here, we arrange the data into variables for flow rate and head (<code>QH</code>), diameters (<code>D</code>), and power (<code>P</code>).</p>
</section>
<section id="hyperparameter-optimization-setup" class="level3">
<h3 class="anchored" data-anchor-id="hyperparameter-optimization-setup">Hyperparameter Optimization Setup</h3>
<p>We define several key parameters for the optimization process:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="va">userSeed</span> <span class="op">=</span> <span class="fl">4826</span><span class="op">;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="va">mseThreshold</span> <span class="op">=</span> <span class="fl">0.000199</span><span class="op">;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="va">result</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="va">distinctDiameters</span> <span class="op">=</span> <span class="va">unique</span>(<span class="va">D</span>)<span class="op">;</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="va">weightDiameter</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="va">weightBeps</span> <span class="op">=</span> <span class="fl">0.5</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>userSeed</code>: A seed for random number generation to ensure reproducibility.</li>
<li><code>mseThreshold</code>: The mean squared error threshold for early stopping.</li>
<li><code>distinctDiameters</code>: A unique set of diameters for which we’ll optimize our neural network.</li>
</ul>
</section>
<section id="optimization-loop" class="level3">
<h3 class="anchored" data-anchor-id="optimization-loop">Optimization Loop</h3>
<p>The core of the script involves iterating over each distinct diameter, removing it from the dataset, and training a neural network to predict the head (<code>H</code>) given the flow rate (<code>Q</code>) and the diameter (<code>D</code>):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">dIdx</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">length</span>(<span class="va">distinctDiameters</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">diameterToRemove</span> <span class="op">=</span> <span class="va">distinctDiameters</span>(<span class="va">dIdx</span>)<span class="op">;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">indicesToRemove</span> <span class="op">=</span> <span class="va">find</span>(<span class="va">D</span> <span class="op">==</span> <span class="va">diameterToRemove</span>)<span class="op">;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">removedQH</span> <span class="op">=</span> <span class="va">QH</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>)<span class="op">;</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">removedD</span> <span class="op">=</span> <span class="va">D</span>(<span class="va">indicesToRemove</span>)<span class="op">;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">QH_temp</span> <span class="op">=</span> <span class="va">QH</span><span class="op">;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">D_temp</span> <span class="op">=</span> <span class="va">D</span><span class="op">;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">QH_temp</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>) <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">D_temp</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>) <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">Qa</span> <span class="op">=</span> <span class="va">QH_temp</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">Ha</span> <span class="op">=</span> <span class="va">QH_temp</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">Q</span> <span class="op">=</span> <span class="va">QH_temp</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="va">H</span> <span class="op">=</span> <span class="va">QH_temp</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    <span class="va">lower_bounds</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span> <span class="fl">13</span><span class="op">,</span> <span class="fl">13</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span> <span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    <span class="va">upper_bounds</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span> <span class="fl">300</span><span class="op">,</span> <span class="fl">300</span><span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="fl">1</span>]<span class="op">;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    <span class="va">prevCombinedMSE</span> <span class="op">=</span> <span class="va">inf</span><span class="op">;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for</span> <span class="va">i</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">20</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>        [<span class="va">optimalHyperParamsH</span><span class="op">,</span> <span class="va">finalMSEH</span><span class="op">,</span> <span class="va">randomSeedH</span><span class="op">,</span> <span class="va">bestTrainedNetH</span><span class="op">,</span> <span class="va">error</span>] <span class="op">=</span> <span class="op">...</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>            <span class="va">optimizeNNForTrimmingPumpImpeller</span>([<span class="va">QH_temp</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span> <span class="va">D_temp</span>]<span class="op">,</span> <span class="va">QH_temp</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">,</span> <span class="va">userSeed</span><span class="op">+</span><span class="va">i</span><span class="op">,</span> <span class="va">lower_bounds</span><span class="op">,</span> <span class="va">upper_bounds</span>)<span class="op">;</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>        <span class="va">result</span>(<span class="va">i</span><span class="op">,</span> <span class="op">:</span>) <span class="op">=</span> [<span class="va">i</span><span class="op">,</span> <span class="va">optimalHyperParamsH</span><span class="op">,</span> <span class="va">finalMSEH</span><span class="op">,</span> <span class="va">randomSeedH</span><span class="op">,</span> <span class="va">error</span>(<span class="fl">1</span>)<span class="op">,</span> <span class="va">error</span>(<span class="fl">2</span>)<span class="op">,</span> <span class="va">error</span>(<span class="fl">3</span>)]<span class="op">;</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        <span class="va">predictedH</span> <span class="op">=</span> <span class="va">bestTrainedNetH</span>([<span class="va">removedQH</span>(<span class="fl">1</span><span class="op">,</span> <span class="op">:</span>)<span class="op">;</span> <span class="va">removedD</span>])<span class="op">';</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>        <span class="va">mseDiameter</span> <span class="op">=</span> <span class="va">mean</span>((<span class="va">removedQH</span>(<span class="fl">2</span><span class="op">,</span> <span class="op">:</span>)<span class="op">'</span> <span class="op">-</span> <span class="va">predictedH</span>)<span class="op">.^</span><span class="fl">2</span> <span class="op">/</span> <span class="va">sum</span>(<span class="va">removedQH</span>(<span class="fl">2</span><span class="op">,</span> <span class="op">:</span>)))<span class="op">;</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>        <span class="va">predictedH_beps</span> <span class="op">=</span> <span class="va">bestTrainedNetH</span>([<span class="va">QH_beps</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span> <span class="va">D_beps</span>])<span class="op">';</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>        <span class="va">mseQH_beps</span> <span class="op">=</span> <span class="va">mean</span>((<span class="va">QH_beps</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">'</span> <span class="op">-</span> <span class="va">predictedH_beps</span>)<span class="op">.^</span><span class="fl">2</span> <span class="op">/</span> <span class="va">sum</span>(<span class="va">QH_beps</span>(<span class="fl">2</span><span class="op">,:</span>)))<span class="op">;</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>        <span class="va">fprintf</span>(<span class="ss">'Diameter %d, Iteration %d, MSE_Dia: %.6f,  MSE_beps: %.6f \n'</span><span class="op">,</span> <span class="va">diameterToRemove</span><span class="op">,</span> <span class="va">i</span><span class="op">,</span> <span class="va">mseDiameter</span><span class="op">,</span> <span class="va">mseQH_beps</span>)<span class="op">;</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>        <span class="va">combinedMSE</span> <span class="op">=</span> <span class="va">weightDiameter</span> <span class="op">*</span> <span class="va">mseDiameter</span> <span class="op">+</span> <span class="va">weightBeps</span> <span class="op">*</span> <span class="va">mseQH_beps</span><span class="op">;</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>        <span class="va">deltaMSE</span> <span class="op">=</span> <span class="va">prevCombinedMSE</span> <span class="op">-</span> <span class="va">combinedMSE</span><span class="op">;</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="va">deltaMSE</span> <span class="op">&gt;</span> <span class="fl">0.01</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>            <span class="va">adjustment</span> <span class="op">=</span> [<span class="fl">0</span><span class="op">,</span> <span class="fl">5</span><span class="op">,</span> <span class="fl">15</span><span class="op">,</span> <span class="fl">0</span><span class="op">,</span> <span class="fl">0</span>]<span class="op">;</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>        <span class="kw">elseif</span> <span class="va">deltaMSE</span> <span class="op">&gt;</span> <span class="fl">0.001</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>            <span class="va">adjustment</span> <span class="op">=</span> [<span class="fl">0</span><span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="fl">10</span><span class="op">,</span> <span class="fl">0</span><span class="op">,</span> <span class="fl">0</span>]<span class="op">;</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>        <span class="kw">else</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>            <span class="va">adjustment</span> <span class="op">=</span> [<span class="fl">0</span><span class="op">,</span> <span class="fl">1</span><span class="op">,</span> <span class="fl">5</span><span class="op">,</span> <span class="fl">0</span><span class="op">,</span> <span class="fl">0</span>]<span class="op">;</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>        <span class="va">lower_bounds</span> <span class="op">=</span> <span class="va">max</span>(<span class="va">lower_bounds</span><span class="op">,</span> [<span class="fl">2</span><span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">2</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">3</span>)<span class="op">,</span> <span class="fl">1</span><span class="op">,</span> <span class="fl">1</span>] <span class="op">-</span> <span class="va">adjustment</span>)<span class="op">;</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>        <span class="va">upper_bounds</span> <span class="op">=</span> <span class="va">min</span>(<span class="va">upper_bounds</span><span class="op">,</span> [<span class="fl">2</span><span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">2</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">3</span>)<span class="op">,</span> <span class="fl">2</span><span class="op">,</span> <span class="fl">1</span>] <span class="op">+</span> <span class="va">adjustment</span>)<span class="op">;</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>        <span class="va">prevCombinedMSE</span> <span class="op">=</span> <span class="va">combinedMSE</span><span class="op">;</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> (<span class="va">mseDiameter</span> <span class="op">&lt;</span> <span class="va">mseThreshold</span>) <span class="op">&amp;&amp;</span> (<span class="va">error</span>(<span class="fl">3</span>) <span class="op">&lt;</span> <span class="fl">0.0199</span>) <span class="op">&amp;&amp;</span> (<span class="va">mseQH_beps</span> <span class="op">&lt;</span> <span class="va">mseThreshold</span>)</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>            <span class="va">fprintf</span>(<span class="ss">'MSE for diameter %d is below the threshold. Exiting loop.\n'</span><span class="op">,</span> <span class="va">diameterToRemove</span>)<span class="op">;</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>            <span class="kw">break</span><span class="op">;</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="plotting-results" class="level3">
<h3 class="anchored" data-anchor-id="plotting-results">Plotting Results</h3>
<p>The script generates plots to visualize the performance of the neural network:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">diameterIndex</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">length</span>(<span class="va">desiredDiameters</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">desiredDiameter</span> <span class="op">=</span> <span class="va">desiredDiameters</span>(<span class="va">diameterIndex</span>)<span class="op">;</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">Dt</span> <span class="op">=</span> <span class="va">repmat</span>(<span class="va">desiredDiameter</span><span class="op">,</span> <span class="va">length</span>(<span class="va">Qt</span>)<span class="op">,</span> <span class="fl">1</span>)<span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">filteredQH</span> <span class="op">=</span> <span class="va">bestTrainedNetH</span>([<span class="va">Qt</span><span class="op">;</span> <span class="va">Dt</span><span class="op">'</span>])<span class="op">';</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">legendLabel</span> <span class="op">=</span> <span class="va">strcat</span>(<span class="ss">'Diameter: '</span><span class="op">,</span> <span class="va">num2str</span>(<span class="va">desiredDiameter</span>)<span class="op">,</span> <span class="ss">'mm'</span>)<span class="op">;</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">plot</span>(<span class="va">Qt</span><span class="op">,</span> <span class="va">filteredQH</span><span class="op">,</span> <span class="ss">'DisplayName'</span><span class="op">,</span> <span class="va">legendLabel</span>)<span class="op">;</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">text</span>(<span class="va">Qt</span>(<span class="kw">end</span>)<span class="op">,</span> <span class="va">filteredQH</span>(<span class="kw">end</span>)<span class="op">,</span> <span class="va">sprintf</span>(<span class="ss">'%dmm'</span><span class="op">,</span> <span class="va">desiredDiameter</span>)<span class="op">,</span> <span class="ss">'FontSize'</span><span class="op">,</span> <span class="fl">8</span><span class="op">,</span> <span class="ss">'Color'</span><span class="op">,</span> <span class="ss">'black'</span><span class="op">,</span> <span class="ss">'BackgroundColor'</span><span class="op">,</span> <span class="ss">'white'</span>)<span class="op">;</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="va">scatter</span>(<span class="va">Qa</span><span class="op">',</span> <span class="va">Ha</span><span class="op">',</span> <span class="ss">'b'</span><span class="op">,</span> <span class="ss">'filled'</span><span class="op">,</span> <span class="ss">'DisplayName'</span><span class="op">,</span> <span class="ss">'Reference Points'</span>)<span class="op">;</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="va">xlabel</span>(<span class="ss">'Q (m^3/h)'</span>)<span class="op">;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="va">ylabel</span>(<span class="ss">'H (m)'</span>)<span class="op">;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="va">title</span>([<span class="ss">'(Q, H) slices with Diameters, Removed Diameter: '</span> <span class="va">num2str</span>(<span class="va">diameterToRemove</span>) <span class="ss">'mm'</span>])<span class="op">;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="va">legend</span><span class="op">;</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="va">hold</span> <span class="va">off</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="saving-results" class="level3">
<h3 class="anchored" data-anchor-id="saving-results">Saving Results</h3>
<p>The results and trained networks are saved for further analysis:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="va">filename</span> <span class="op">=</span> <span class="va">sprintf</span>(<span class="ss">'../loop_05/01/nn_diameter-%d_iteration_%d_%d-%d-%d-%d-%d_mseDia-%d_test-%d.png'</span><span class="op">,</span> <span class="va">diameterToRemove</span><span class="op">,</span> <span class="va">i</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">optimalHyperParamsH</span>(<span class="fl">1</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">2</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">3</span>)<span class="op">,</span> <span class="op">...</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">optimalHyperParamsH</span>(<span class="fl">4</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">5</span>)<span class="op">,</span> <span class="va">mseDiameter</span><span class="op">,</span> <span class="va">error</span>(<span class="fl">3</span>))<span class="op">;</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="va">saveas</span>(<span class="va">gcf</span><span class="op">,</span> <span class="va">filename</span>)<span class="op">;</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="va">filename</span> <span class="op">=</span> <span class="va">sprintf</span>(<span class="ss">'../loop_05/01/nn_diameter-%d_iteration_%d_%d-%d-%d-%d-%d_mseDia-%d_test-%d.mat'</span><span class="op">,</span> <span class="va">diameterToRemove</span><span class="op">,</span> <span class="va">i</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">optimalHyperParamsH</span>(<span class="fl">1</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">2</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">3</span>)<span class="op">,</span> <span class="op">...</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">optimalHyperParamsH</span>(<span class="fl">4</span>)<span class="op">,</span> <span class="va">optimalHyperParamsH</span>(<span class="fl">5</span>)<span class="op">,</span> <span class="va">mseDiameter</span><span class="op">,</span> <span class="va">error</span>(<span class="fl">3</span>))<span class="op">;</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">filename</span><span class="op">,</span> <span class="ss">'bestTrainedNetH'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="writing-results-to-csv" class="level3">
<h3 class="anchored" data-anchor-id="writing-results-to-csv">Writing Results to CSV</h3>
<p>Finally, the results of the optimization are written to a CSV file for documentation:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="va">writematrix</span>([[<span class="st">"Iteration"</span><span class="op">,</span> <span class="st">"Hidden Layer 1 Size"</span><span class="op">,</span> <span class="st">"Hidden Layer 2 Size"</span><span class="op">,</span> <span class="st">"Max Epochs"</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Training Function"</span><span class="op">,</span> <span class="st">"Activation Function"</span><span class="op">,</span> <span class="st">"Final MSE"</span><span class="op">,</span> <span class="op">...</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Random Seed"</span><span class="op">,</span> <span class="st">"Training Error"</span><span class="op">,</span> <span class="st">"Validation Error"</span><span class="op">,</span> <span class="st">"Test Error"</span>]<span class="op">;</span> <span class="va">result</span>]<span class="op">,</span> <span class="ss">'./01/results_loop.csv'</span>)<span class="op">;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="va">disp</span>(<span class="ss">'./01/Results saved to results_loop.csv'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="supporting-functions" class="level3">
<h3 class="anchored" data-anchor-id="supporting-functions">Supporting Functions</h3>
<p>Several supporting functions handle data loading, neural network optimization, and visualization:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> [<span class="va">QH</span><span class="op">,</span> <span class="va">D</span><span class="op">,</span> <span class="va">QD</span><span class="op">,</span> <span class="va">P</span>] <span class="op">=</span> <span class="va">loadData</span>(<span class="va">dataPath</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co">% Function to load data from specified path</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">% ...</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> [<span class="va">optimalHyperParams</span><span class="op">,</span> <span class="va">finalMSE</span><span class="op">,</span> <span class="va">randomSeed</span><span class="op">,</span> <span class="va">bestTrainedNet</span><span class="op">,</span> <span class="va">nnPerfVect</span>] <span class="op">=</span> <span class="va">optimizeNNForTrimmingPumpImpeller</span>(<span class="va">x</span><span class="op">,</span> <span class="va">t</span><span class="op">,</span> <span class="va">userSeed</span><span class="op">,</span> <span class="va">lowerBounds</span><span class="op">,</span> <span class="va">upperBounds</span>)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">% Function to optimize neural network hyperparameters using genetic algorithm</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">% ...</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">processDataAndVisualize</span>(<span class="va">QH</span><span class="op">,</span> <span class="va">D</span><span class="op">,</span> <span class="va">QD</span><span class="op">,</span> <span class="va">P</span><span class="op">,</span> <span class="va">bestTrainedNetD</span><span class="op">,</span> <span class="va">bestTrainedNetP</span><span class="op">,</span> <span class="va">saveFigures</span>)</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">% Function to process data and generate visualizations</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">% ...</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
</section>
</section>
<section id="main_04.m" class="level1">
<h1>main_04.m</h1>
<p>This MATLAB script <code>main_04.m</code> exemplifies the application of neural networks in optimizing pump performance by predicting outcomes such as flow rate, head, and power. By training models on different subsets of data, it ensures robustness and generalization, leading to improved design and operational efficiency in pump systems. This project can be extended further by incorporating more advanced AI techniques and real-time data for continuous optimization.</p>
<p>The code performs the following key steps: 1. Load and preprocess data. 2. Train neural networks on the data. 3. Evaluate the trained models. 4. Use the trained models to predict and visualize performance under various conditions.</p>
<section id="details" class="level3">
<h3 class="anchored" data-anchor-id="details">Details</h3>
<section id="initialization-and-data-loading" class="level4">
<h4 class="anchored" data-anchor-id="initialization-and-data-loading">Initialization and Data Loading</h4>
<div class="sourceCode" id="cb18"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="va">clear</span><span class="op">;</span> <span class="va">clc</span><span class="op">;</span> <span class="va">clf</span><span class="op">;</span> <span class="va">close</span> <span class="va">all</span><span class="op">;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">% Load data</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'filtered_QDP_table.mat'</span>)<span class="op">;</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QHD_table.mat'</span>)<span class="op">;</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="va">load</span>(<span class="ss">'deleted_QDP_table.mat'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>clear; clc; clf; close all;</code> clears the workspace, command window, figure window, and closes any open figures.</li>
<li>The <code>load</code> commands import datasets from <code>.mat</code> files into the workspace. These datasets contain performance data of pumps under different conditions.</li>
</ul>
</section>
<section id="data-extraction" class="level4">
<h4 class="anchored" data-anchor-id="data-extraction">Data Extraction</h4>
<div class="sourceCode" id="cb19"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Extract data</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="va">QH</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="va">D</span> <span class="op">=</span> [<span class="va">filtered_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="va">QH_beps</span> <span class="op">=</span> [<span class="va">deleted_QHD_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">deleted_QHD_table</span>.<span class="va">Head_m</span>]<span class="op">';</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="va">D_beps</span> <span class="op">=</span> [<span class="va">deleted_QHD_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="va">QD</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">filtered_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="va">P</span> <span class="op">=</span> [<span class="va">filtered_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="va">QD_beps</span> <span class="op">=</span> [<span class="va">deleted_QDP_table</span>.<span class="va">FlowRate_m3h</span><span class="op">,</span> <span class="va">deleted_QDP_table</span>.<span class="va">Diameter_mm</span>]<span class="op">';</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="va">P_beps</span> <span class="op">=</span> [<span class="va">deleted_QDP_table</span>.<span class="va">Power_kW</span>]<span class="op">';</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The data is extracted into separate variables for easier handling.
<ul>
<li><code>QH</code> contains flow rate and head data.</li>
<li><code>D</code> contains diameter data.</li>
<li><code>QH_beps</code> and <code>D_beps</code> contain best efficiency point (BEP) data.</li>
<li><code>QD</code> contains flow rate and diameter data related to power.</li>
<li><code>P</code> contains power data.</li>
</ul></li>
</ul>
</section>
<section id="creating-output-directories" class="level4">
<h4 class="anchored" data-anchor-id="creating-output-directories">Creating Output Directories</h4>
<div class="sourceCode" id="cb20"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Create output directories</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="va">output_dir</span> <span class="op">=</span> <span class="ss">'out_data'</span><span class="op">;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="va">figures_dir</span> <span class="op">=</span> <span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'figures'</span>)<span class="op">;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="op">~</span><span class="va">exist</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'dir'</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">mkdir</span>(<span class="va">output_dir</span>)<span class="op">;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="kw">if</span> <span class="op">~</span><span class="va">exist</span>(<span class="va">figures_dir</span><span class="op">,</span> <span class="ss">'dir'</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">mkdir</span>(<span class="va">figures_dir</span>)<span class="op">;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The code creates directories to save the output data and figures if they don’t already exist.</li>
</ul>
</section>
<section id="neural-network-training-parameters" class="level4">
<h4 class="anchored" data-anchor-id="neural-network-training-parameters">Neural Network Training Parameters</h4>
<div class="sourceCode" id="cb21"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Hyperparameters based on latest optimization with GA</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="va">randomSeed</span> <span class="op">=</span> <span class="fl">4837</span><span class="op">;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="va">nn_QHD_size_matrix</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span> <span class="fl">16</span>]<span class="op">;</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="va">nn_QDH_size_matrix</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span> <span class="fl">16</span>]<span class="op">;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="va">nn_QDP_size_matrix</span> <span class="op">=</span> [<span class="fl">2</span><span class="op">,</span> <span class="fl">7</span><span class="op">,</span> <span class="fl">29</span><span class="op">,</span> <span class="fl">17</span>]<span class="op">;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="va">maxEpochs</span> <span class="op">=</span> <span class="fl">191</span><span class="op">;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="va">trainFcn</span> <span class="op">=</span> <span class="ss">'trainlm'</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The hyperparameters for the neural networks are defined, including the random seed for reproducibility, network architecture (size of hidden layers), number of epochs for training, and the training function (<code>trainlm</code> - Levenberg-Marquardt).</li>
</ul>
</section>
<section id="training-neural-networks-on-full-dataset" class="level4">
<h4 class="anchored" data-anchor-id="training-neural-networks-on-full-dataset">Training Neural Networks on Full Dataset</h4>
<div class="sourceCode" id="cb22"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>[<span class="va">trainedNetQHD</span><span class="op">,</span> <span class="va">avgMSEsQHD</span><span class="op">,</span> <span class="va">trainPerformanceQHD</span><span class="op">,</span> <span class="va">valPerformanceQHD</span><span class="op">,</span> <span class="va">testPerformanceQHD</span>] <span class="op">=</span> <span class="va">train_nn</span>(<span class="va">nn_QHD_size_matrix</span><span class="op">,</span> <span class="va">maxEpochs</span><span class="op">,</span> <span class="va">trainFcn</span><span class="op">,</span> <span class="va">QH</span><span class="op">,</span> <span class="va">D</span><span class="op">,</span> <span class="va">randomSeed</span>)<span class="op">;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>[<span class="va">trainedNetQDH</span><span class="op">,</span> <span class="va">avgMSEsQDH</span><span class="op">,</span> <span class="va">trainPerformanceQDH</span><span class="op">,</span> <span class="va">valPerformanceQDH</span><span class="op">,</span> <span class="va">testPerformanceQDH</span>] <span class="op">=</span> <span class="va">train_nn</span>(<span class="va">nn_QDH_size_matrix</span><span class="op">,</span> <span class="va">maxEpochs</span><span class="op">,</span> <span class="va">trainFcn</span><span class="op">,</span> [<span class="va">QH</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span> <span class="va">D</span>]<span class="op">,</span> <span class="va">QH</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">,</span> <span class="va">randomSeed</span>)<span class="op">;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>[<span class="va">trainedNetQDP</span><span class="op">,</span> <span class="va">avgMSEsQDP</span><span class="op">,</span> <span class="va">trainPerformanceQDP</span><span class="op">,</span> <span class="va">valPerformanceQDP</span><span class="op">,</span> <span class="va">testPerformanceQDP</span>] <span class="op">=</span> <span class="va">train_nn</span>(<span class="va">nn_QDP_size_matrix</span><span class="op">,</span> <span class="va">maxEpochs</span><span class="op">,</span> <span class="va">trainFcn</span><span class="op">,</span> <span class="va">QD</span><span class="op">,</span> <span class="va">P</span><span class="op">,</span> <span class="va">randomSeed</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Neural networks are trained on the full dataset for each model (QHD, QDH, and QDP) using the specified parameters.</li>
</ul>
</section>
<section id="initializing-results-tables-and-logs" class="level4">
<h4 class="anchored" data-anchor-id="initializing-results-tables-and-logs">Initializing Results Tables and Logs</h4>
<div class="sourceCode" id="cb23"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="va">QHD_results</span> <span class="op">=</span> <span class="va">array2table</span>(<span class="va">NaN</span>(<span class="fl">1</span><span class="op">,</span> <span class="fl">7</span>)<span class="op">,</span> <span class="ss">'VariableNames'</span><span class="op">,</span> {<span class="ss">'DiameterRemoved'</span><span class="op">,</span> <span class="ss">'AvgMSE'</span><span class="op">,</span> <span class="ss">'TrainPerformance'</span><span class="op">,</span> <span class="ss">'ValPerformance'</span><span class="op">,</span> <span class="ss">'TestPerformance'</span><span class="op">,</span> <span class="ss">'MSEDeletedDiameter'</span><span class="op">,</span> <span class="ss">'MSEBEPs'</span>})<span class="op">;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="va">QDP_results</span> <span class="op">=</span> <span class="va">array2table</span>(<span class="va">NaN</span>(<span class="fl">1</span><span class="op">,</span> <span class="fl">7</span>)<span class="op">,</span> <span class="ss">'VariableNames'</span><span class="op">,</span> {<span class="ss">'DiameterRemoved'</span><span class="op">,</span> <span class="ss">'AvgMSE'</span><span class="op">,</span> <span class="ss">'TrainPerformance'</span><span class="op">,</span> <span class="ss">'ValPerformance'</span><span class="op">,</span> <span class="ss">'TestPerformance'</span><span class="op">,</span> <span class="ss">'MSEDeletedDiameter'</span><span class="op">,</span> <span class="ss">'MSEBEPs'</span>})<span class="op">;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="va">QDH_results</span> <span class="op">=</span> <span class="va">array2table</span>(<span class="va">NaN</span>(<span class="fl">1</span><span class="op">,</span> <span class="fl">7</span>)<span class="op">,</span> <span class="ss">'VariableNames'</span><span class="op">,</span> {<span class="ss">'DiameterRemoved'</span><span class="op">,</span> <span class="ss">'AvgMSE'</span><span class="op">,</span> <span class="ss">'TrainPerformance'</span><span class="op">,</span> <span class="ss">'ValPerformance'</span><span class="op">,</span> <span class="ss">'TestPerformance'</span><span class="op">,</span> <span class="ss">'MSEDeletedDiameter'</span><span class="op">,</span> <span class="ss">'MSEBEPs'</span>})<span class="op">;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="va">logs</span> <span class="op">=</span> {}<span class="op">;</span>  <span class="co">% Initialize logs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Results tables and logs are initialized to store the performance metrics and log messages during the training process.</li>
</ul>
</section>
<section id="weights-for-error-calculation" class="level4">
<h4 class="anchored" data-anchor-id="weights-for-error-calculation">Weights for Error Calculation</h4>
<div class="sourceCode" id="cb24"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="va">weights</span> <span class="op">=</span> <span class="va">struct</span>(<span class="ss">'train'</span><span class="op">,</span> <span class="fl">0.05</span><span class="op">,</span> <span class="ss">'val'</span><span class="op">,</span> <span class="fl">0.05</span><span class="op">,</span> <span class="ss">'test'</span><span class="op">,</span> <span class="fl">0.35</span><span class="op">,</span> <span class="ss">'deleted_diameter'</span><span class="op">,</span> <span class="fl">0.45</span><span class="op">,</span> <span class="ss">'beps'</span><span class="op">,</span> <span class="fl">0.1</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Weights are defined to calculate a weighted score for model performance, giving different importance to training, validation, test errors, and errors on specific data points.</li>
</ul>
</section>
<section id="best-neural-network-initialization" class="level4">
<h4 class="anchored" data-anchor-id="best-neural-network-initialization">Best Neural Network Initialization</h4>
<div class="sourceCode" id="cb25"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="va">bestNetQHD</span> <span class="op">=</span> <span class="va">struct</span>(<span class="ss">'net'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'diameter'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'score'</span><span class="op">,</span> <span class="va">Inf</span><span class="op">,</span> <span class="ss">'trainPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'valPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'testPerformance'</span><span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="va">bestNetQDP</span> <span class="op">=</span> <span class="va">struct</span>(<span class="ss">'net'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'diameter'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'score'</span><span class="op">,</span> <span class="va">Inf</span><span class="op">,</span> <span class="ss">'trainPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'valPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'testPerformance'</span><span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="va">bestNetQDH</span> <span class="op">=</span> <span class="va">struct</span>(<span class="ss">'net'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'diameter'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'score'</span><span class="op">,</span> <span class="va">Inf</span><span class="op">,</span> <span class="ss">'trainPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'valPerformance'</span><span class="op">,</span> []<span class="op">,</span> <span class="ss">'testPerformance'</span><span class="op">,</span> [])<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Structures are initialized to store the best neural networks for each model based on their performance.</li>
</ul>
</section>
<section id="function-to-compute-weighted-score" class="level4">
<h4 class="anchored" data-anchor-id="function-to-compute-weighted-score">Function to Compute Weighted Score</h4>
<div class="sourceCode" id="cb26"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="va">compute_score</span> <span class="op">=</span> <span class="op">@</span>(<span class="va">trainPerf</span><span class="op">,</span> <span class="va">valPerf</span><span class="op">,</span> <span class="va">testPerf</span><span class="op">,</span> <span class="va">mseDeleted</span><span class="op">,</span> <span class="va">mseBEPS</span><span class="op">,</span> <span class="va">weights</span>) <span class="op">...</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">weights</span>.<span class="va">train</span> <span class="op">*</span> <span class="va">trainPerf</span> <span class="op">+</span> <span class="va">weights</span>.<span class="va">val</span> <span class="op">*</span> <span class="va">valPerf</span> <span class="op">+</span> <span class="va">weights</span>.<span class="va">test</span> <span class="op">*</span> <span class="va">testPerf</span> <span class="op">+</span> <span class="va">weights</span>.<span class="va">deleted_diameter</span> <span class="op">*</span> <span class="va">mseDeleted</span> <span class="op">+</span> <span class="va">weights</span>.<span class="va">beps</span> <span class="op">*</span> <span class="va">mseBEPS</span><span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>A function is defined to compute the weighted score for model performance based on the defined weights.</li>
</ul>
</section>
</section>
<section id="training-with-different-diameters-hidden-qhd-and-qdh" class="level3">
<h3 class="anchored" data-anchor-id="training-with-different-diameters-hidden-qhd-and-qdh">Training with Different Diameters Hidden (QHD and QDH)</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="va">distinctDiametersQHD</span> <span class="op">=</span> <span class="va">unique</span>(<span class="va">D</span>)<span class="op">;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">for</span> <span class="va">dIdx</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">length</span>(<span class="va">distinctDiametersQHD</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">diameterToRemove</span> <span class="op">=</span> <span class="va">distinctDiametersQHD</span>(<span class="va">dIdx</span>)<span class="op">;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">indicesToRemove</span> <span class="op">=</span> <span class="va">find</span>(<span class="va">D</span> <span class="op">==</span> <span class="va">diameterToRemove</span>)<span class="op">;</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">removedQH</span> <span class="op">=</span> <span class="va">QH</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>)<span class="op">;</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">removedD</span> <span class="op">=</span> <span class="va">D</span>(<span class="va">indicesToRemove</span>)<span class="op">;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">QH_temp</span> <span class="op">=</span> <span class="va">QH</span><span class="op">;</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">D_temp</span> <span class="op">=</span> <span class="va">D</span><span class="op">;</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>    <span class="va">QH_temp</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>) <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">D_temp</span>(<span class="op">:,</span> <span class="va">indicesToRemove</span>) <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">try</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>        [<span class="va">trainedNetQHD_temp</span><span class="op">,</span> <span class="va">avgMSEsQHD_temp</span><span class="op">,</span> <span class="va">trainPerformanceQHD_temp</span><span class="op">,</span> <span class="va">valPerformanceQHD_temp</span><span class="op">,</span> <span class="va">testPerformanceQHD_temp</span>] <span class="op">=</span> <span class="va">train_nn</span>(<span class="va">nn_QHD_size_matrix</span><span class="op">,</span> <span class="va">maxEpochs</span><span class="op">,</span> <span class="va">trainFcn</span><span class="op">,</span> <span class="va">QH_temp</span><span class="op">,</span> <span class="va">D_temp</span><span class="op">,</span> <span class="va">randomSeed</span>)<span class="op">;</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>        <span class="va">mse_deleted_diameter</span> <span class="op">=</span> <span class="va">perform</span>(<span class="va">trainedNetQHD_temp</span><span class="op">,</span> <span class="va">removedD</span><span class="op">,</span> <span class="va">trainedNetQHD_temp</span>(<span class="va">removedQH</span>))<span class="op">;</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">mse_beps</span> <span class="op">=</span> <span class="va">perform</span>(<span class="va">trainedNetQHD_temp</span><span class="op">,</span> <span class="va">D_beps</span><span class="op">,</span> <span class="va">trainedNetQHD_temp</span>(<span class="va">QH_beps</span>))<span class="op">;</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">logs</span>{<span class="kw">end</span><span class="op">+</span><span class="fl">1</span>} <span class="op">=</span> [<span class="ss">'Trained nn_QHD_temp on dataset without diameter '</span> <span class="va">num2str</span>(<span class="va">diameterToRemove</span>) <span class="ss">' successfully.'</span>]<span class="op">;</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>        <span class="va">score</span> <span class="op">=</span> <span class="va">compute_score</span>(<span class="va">trainPerformanceQHD_temp</span><span class="op">,</span> <span class="va">valPerformanceQHD_temp</span><span class="op">,</span> <span class="va">testPerformanceQHD_temp</span><span class="op">,</span> <span class="va">mse_deleted_diameter</span><span class="op">,</span> <span class="va">mse_beps</span><span class="op">,</span> <span class="va">weights</span>)<span class="op">;</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>        <span class="va">QHD_results</span> <span class="op">=</span> [<span class="va">QHD_results</span><span class="op">;</span> {<span class="va">diameterToRemove</span><span class="op">,</span> <span class="va">avgMSEsQHD_temp</span><span class="op">,</span> <span class="va">trainPerformanceQHD_temp</span><span class="op">,</span> <span class="va">valPerformanceQHD_temp</span><span class="op">,</span> <span class="va">testPerformanceQHD_temp</span><span class="op">,</span> <span class="va">mse_deleted_diameter</span><span class="op">,</span> <span class="va">mse_beps</span>}]<span class="op">;</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="va">score</span> <span class="op">&lt;</span> <span class="va">bestNetQHD</span>.<span class="va">score</span></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">net</span> <span class="op">=</span> <span class="va">trainedNetQHD_temp</span><span class="op">;</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">diameter</span> <span class="op">=</span> <span class="va">diameterToRemove</span><span class="op">;</span></span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">score</span> <span class="op">=</span> <span class="va">score</span><span class="op">;</span></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">trainPerformance</span> <span class="op">=</span> <span class="va">trainPerformanceQHD_temp</span><span class="op">;</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">valPerformance</span> <span class="op">=</span> <span class="va">valPerformanceQHD_temp</span><span class="op">;</span></span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>            <span class="va">bestNetQHD</span>.<span class="va">testPerformance</span> <span class="op">=</span> <span class="va">testPerformanceQHD_temp</span><span class="op">;</span></span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>        <span class="va">figure</span><span class="op">;</span></span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>        <span class="va">plot</span>(<span class="va">QH</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">,</span> <span class="va">QH</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">,</span> <span class="ss">'bo'</span><span class="op">,</span> <span class="ss">'DisplayName'</span><span class="op">,</span> <span class="ss">'Original Data'</span>)<span class="op">;</span></span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>        <span class="va">hold</span> <span class="va">on</span><span class="op">;</span></span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>        <span class="va">plot</span>(<span class="va">QH_temp</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">,</span> <span class="va">trainedNetQHD_temp</span>([<span class="va">QH_temp</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">;</span> <span class="va">D_temp</span>])<span class="op">,</span> <span class="ss">'r*'</span><span class="op">,</span> <span class="ss">'DisplayName'</span><span class="op">,</span> <span class="ss">'Trained Net Predictions'</span>)<span class="op">;</span></span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>        <span class="va">plot</span>(<span class="va">removedQH</span>(<span class="fl">1</span><span class="op">,:</span>)<span class="op">,</span> <span class="va">removedQH</span>(<span class="fl">2</span><span class="op">,:</span>)<span class="op">,</span> <span class="ss">'gx'</span><span class="op">,</span> <span class="ss">'DisplayName'</span><span class="op">,</span> <span class="er">'Removed Diameter Data</span></span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-37"><a href="#cb27-37" aria-hidden="true" tabindex="-1"></a><span class="er">');</span></span>
<span id="cb27-38"><a href="#cb27-38" aria-hidden="true" tabindex="-1"></a>        <span class="va">hold</span> <span class="va">off</span><span class="op">;</span></span>
<span id="cb27-39"><a href="#cb27-39" aria-hidden="true" tabindex="-1"></a>        <span class="va">title</span>([<span class="ss">'QHD Model without Diameter '</span> <span class="va">num2str</span>(<span class="va">diameterToRemove</span>)])<span class="op">;</span></span>
<span id="cb27-40"><a href="#cb27-40" aria-hidden="true" tabindex="-1"></a>        <span class="va">legend</span><span class="op">;</span></span>
<span id="cb27-41"><a href="#cb27-41" aria-hidden="true" tabindex="-1"></a>        <span class="va">saveas</span>(<span class="va">gcf</span><span class="op">,</span> <span class="va">fullfile</span>(<span class="va">figures_dir</span><span class="op">,</span> [<span class="ss">'QHD_wo_diameter_'</span> <span class="va">num2str</span>(<span class="va">diameterToRemove</span>) <span class="ss">'.png'</span>]))<span class="op">;</span></span>
<span id="cb27-42"><a href="#cb27-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-43"><a href="#cb27-43" aria-hidden="true" tabindex="-1"></a>    <span class="kw">catch</span> <span class="va">ME</span></span>
<span id="cb27-44"><a href="#cb27-44" aria-hidden="true" tabindex="-1"></a>        <span class="va">logs</span>{<span class="kw">end</span><span class="op">+</span><span class="fl">1</span>} <span class="op">=</span> [<span class="ss">'Error training nn_QHD_temp on dataset without diameter '</span> <span class="va">num2str</span>(<span class="va">diameterToRemove</span>) <span class="ss">': '</span> <span class="va">ME</span>.<span class="va">message</span>]<span class="op">;</span></span>
<span id="cb27-45"><a href="#cb27-45" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb27-46"><a href="#cb27-46" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The above loop trains the QHD model by leaving out one diameter at a time and evaluates the performance on the remaining data. It then calculates the weighted score and updates the best model if the current one performs better.</li>
<li>Similar loops are used for QDH and QDP models.</li>
</ul>
</section>
<section id="finalizing-and-saving-results" class="level3">
<h3 class="anchored" data-anchor-id="finalizing-and-saving-results">Finalizing and Saving Results</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co">% Save results and best networks</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'QHD_results.mat'</span>)<span class="op">,</span> <span class="ss">'QHD_results'</span>)<span class="op">;</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'QDP_results.mat'</span>)<span class="op">,</span> <span class="ss">'QDP_results'</span>)<span class="op">;</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'QDH_results.mat'</span>)<span class="op">,</span> <span class="ss">'QDH_results'</span>)<span class="op">;</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'bestNetQHD.mat'</span>)<span class="op">,</span> <span class="ss">'bestNetQHD'</span>)<span class="op">;</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'bestNetQDP.mat'</span>)<span class="op">,</span> <span class="ss">'bestNetQDP'</span>)<span class="op">;</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="va">save</span>(<span class="va">fullfile</span>(<span class="va">output_dir</span><span class="op">,</span> <span class="ss">'bestNetQDH.mat'</span>)<span class="op">,</span> <span class="ss">'bestNetQDH'</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>The results and the best models are saved to files for future use and analysis.</li>
</ul>
<hr>



</section>
</section>

</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/MohammedTwheed\.github\.io\/mtk-bachelor-project-website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="MohammedTwheed/mtk-bachelor-project-website" data-repo-id="R_kgDOL0cvvQ" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Proudly supervised by <a href="https://scholar.google.com.eg/citations?user=JebIw2QAAAAJ&amp;hl=en"><img src="https://scholar.googleusercontent.com/citations?view_op=medium_photo&amp;user=JebIw2QAAAAJ&amp;citpid=2.png" class="img-fluid" alt="Prof. Dr. Mohamed farid khalil" width="65"></a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../about.html">
<p>About</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MohammedTwheed/mtk-bachelor-project-website">
      <i class="bi bi-github" role="img" aria-label="mtk-bachelor-project-website GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>