<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.52">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mohammed Twheed Khater">
<meta name="dcterms.date" content="2024-06-24">

<title>Application of Artificial Intelligence on the Centrifugal Pump Operation – Home</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../artificial-intelligence.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #EDF3F9;
      }
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../artificial-intelligence.png" alt="AI for Pumps logo." class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../data/writings/index.html"> 
<span class="menu-text">Writings</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Application of Artificial Intelligence on the Centrifugal Pump Operation</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mohammed Twheed Khater </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 24, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" id="toc-chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" class="nav-link active" data-scroll-target="#chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai">Chapter 1 | Prediction of the Effect of Impeller Trimming on Centrifugal Pump Performance Using AI</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#what-is-trimming-in-centrifugal-pump-impeller" id="toc-what-is-trimming-in-centrifugal-pump-impeller" class="nav-link" data-scroll-target="#what-is-trimming-in-centrifugal-pump-impeller">What is Trimming in Centrifugal Pump Impeller?</a></li>
  <li><a href="#why-trimming" id="toc-why-trimming" class="nav-link" data-scroll-target="#why-trimming">Why Trimming?</a>
  <ul class="collapse">
  <li><a href="#energy-consumption" id="toc-energy-consumption" class="nav-link" data-scroll-target="#energy-consumption">Energy Consumption</a></li>
  <li><a href="#market-availability" id="toc-market-availability" class="nav-link" data-scroll-target="#market-availability">Market Availability</a></li>
  </ul></li>
  <li><a href="#energy-saving-and-environmental-impact" id="toc-energy-saving-and-environmental-impact" class="nav-link" data-scroll-target="#energy-saving-and-environmental-impact">Energy Saving and Environmental Impact</a></li>
  <li><a href="#traditional-trimming-methods" id="toc-traditional-trimming-methods" class="nav-link" data-scroll-target="#traditional-trimming-methods">Traditional Trimming Methods</a></li>
  <li><a href="#data-extraction-and-digitization" id="toc-data-extraction-and-digitization" class="nav-link" data-scroll-target="#data-extraction-and-digitization">Data Extraction and Digitization</a></li>
  <li><a href="#neural-networks" id="toc-neural-networks" class="nav-link" data-scroll-target="#neural-networks">Neural Networks</a>
  <ul class="collapse">
  <li><a href="#usage-in-the-project" id="toc-usage-in-the-project" class="nav-link" data-scroll-target="#usage-in-the-project">Usage in the Project</a></li>
  <li><a href="#data-processing-and-division" id="toc-data-processing-and-division" class="nav-link" data-scroll-target="#data-processing-and-division">Data Processing and Division</a></li>
  <li><a href="#determining-optimal-parameters-with-genetic-algorithm" id="toc-determining-optimal-parameters-with-genetic-algorithm" class="nav-link" data-scroll-target="#determining-optimal-parameters-with-genetic-algorithm">Determining Optimal Parameters with Genetic Algorithm</a></li>
  <li><a href="#results-and-analysis" id="toc-results-and-analysis" class="nav-link" data-scroll-target="#results-and-analysis">Results and Analysis</a></li>
  </ul></li>
  <li><a href="#genetic-algorithm" id="toc-genetic-algorithm" class="nav-link" data-scroll-target="#genetic-algorithm">Genetic Algorithm</a>
  <ul class="collapse">
  <li><a href="#application-of-genetic-algorithm-in-our-project" id="toc-application-of-genetic-algorithm-in-our-project" class="nav-link" data-scroll-target="#application-of-genetic-algorithm-in-our-project">Application of Genetic Algorithm in Our Project</a></li>
  <li><a href="#methodology" id="toc-methodology" class="nav-link" data-scroll-target="#methodology">Methodology</a></li>
  </ul></li>
  <li><a href="#comparison-of-nn-based-vs-constant-area-scaling-method" id="toc-comparison-of-nn-based-vs-constant-area-scaling-method" class="nav-link" data-scroll-target="#comparison-of-nn-based-vs-constant-area-scaling-method">Comparison of NN-Based vs Constant Area Scaling Method</a>
  <ul class="collapse">
  <li><a href="#analysis-of-final-results" id="toc-analysis-of-final-results" class="nav-link" data-scroll-target="#analysis-of-final-results">Analysis of Final Results</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="chapter-1-prediction-of-the-effect-of-impeller-trimming-on-centrifugal-pump-performance-using-ai" class="level1">
<h1>Chapter 1 | Prediction of the Effect of Impeller Trimming on Centrifugal Pump Performance Using AI</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Centrifugal pumps are widely used across various industries due to their reliability and efficiency in transporting fluids. However, achieving optimal performance often requires fine-tuning, particularly through impeller trimming. This mechanical process involves reducing the impeller diameter to adjust the pump’s head and flow rate, aligning performance with specific system requirements. This research investigates the application of neural networks, optimized by genetic algorithms, to predict the effects of impeller trimming more accurately than conventional methods.</p>
</section>
<section id="what-is-trimming-in-centrifugal-pump-impeller" class="level2">
<h2 class="anchored" data-anchor-id="what-is-trimming-in-centrifugal-pump-impeller">What is Trimming in Centrifugal Pump Impeller?</h2>
<p>Impeller trimming is the process of mechanically reducing the diameter of the pump impeller as shown in <a href="#fig-trimmingLath" class="quarto-xref">Figure&nbsp;1</a>. This adjustment directly influences the pump’s head and flow rate, thereby modifying its performance characteristics.</p>
<div id="fig-trimmingLath" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-trimmingLath-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/trimmingLath.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-trimmingLath-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: impeller trimming process using lathe
</figcaption>
</figure>
</div>
</section>
<section id="why-trimming" class="level2">
<h2 class="anchored" data-anchor-id="why-trimming">Why Trimming?</h2>
<p>System design engineers often round up system capacity and losses to account for construction changes, potential expansions, fluid viscosity changes, and pipe roughening over time. This practice leads to pumps running at higher pressures and flow rates than necessary, leading not only to wasting energy but also causing issues like cavitation and premature wear (<span class="citation" data-cites="HydraulicInstitute-TrimmingImpellersReduce-2022">Hydraulic Institute (<a href="#ref-HydraulicInstitute-TrimmingImpellersReduce-2022" role="doc-biblioref">2022</a>)</span>). Instead of throttling back powerful pumps or opening discharge bypass lines that recirculate a portion of the flow back to the suction, leading to energy loss, or using variable speed drives to reduce pump speed and head, a more efficient and cost-effective solution is impeller trimming. This process involves machining the impeller to reduce its diameter, thereby lowering the flow rate, pressure, and power consumption of the pump. While trimming can slightly reduce pump efficiency due to increased internal recirculation, the overall energy savings typically outweigh this drawback.</p>
<p>Manufacturers provide performance curves to guide impeller trimming, ensuring that the pumps operate efficiently within specified limits.</p>
<section id="energy-consumption" class="level3">
<h3 class="anchored" data-anchor-id="energy-consumption">Energy Consumption</h3>
<p>Centrifugal pumps are often responsible for a significant portion of the energy consumption in industrial settings. Trimming the impeller to match the exact system requirements can greatly reduce the energy consumption of the pump. By operating more efficiently, the pump uses less power, leading to substantial energy savings, where each 1 kW in pump delivery corresponds to 6 kW in power station energy.</p>
</section>
<section id="market-availability" class="level3">
<h3 class="anchored" data-anchor-id="market-availability">Market Availability</h3>
<p>The pumps available in the market may not always fit specific system requirements precisely. Typically, pumps are designed for a range of operations and may be larger or smaller than needed for a particular application. Impeller trimming allows for customizing the pump’s performance to meet these specific needs, ensuring that the pump operates at optimal efficiency.</p>
</section>
</section>
<section id="energy-saving-and-environmental-impact" class="level2">
<h2 class="anchored" data-anchor-id="energy-saving-and-environmental-impact">Energy Saving and Environmental Impact</h2>
<div id="fig-energyLoss" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-energyLoss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/energyLoss.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-energyLoss-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Energy flow and typical losses through power station
</figcaption>
</figure>
</div>
<p>As illustrated in <a href="#fig-energyLoss" class="quarto-xref">Figure&nbsp;2</a> (<span class="citation" data-cites="Hickok-AdjustableSpeedTool-1985">Hickok (<a href="#ref-Hickok-AdjustableSpeedTool-1985" role="doc-biblioref">1985</a>)</span>), energy flows through a power system experiencing significant losses at each stage, from the initial fuel input (e.g., a boiler) to the usable work performed by equipment. While minimizing thermal losses at the power plant (through combined cycle or cogeneration) offers substantial gains, focusing solely on the front-end might seem counterintuitive. After all, if only 15-20 kW of usable work remains from a 100 kW fuel input, why prioritize efficiency in motors and driven equipment? The answer lies in the leverage – every 1 kW saved at the utilization stage translates to a 6 kW reduction in fuel consumption at the power plant (<span class="citation" data-cites="Hickok-AdjustableSpeedTool-1985">Hickok (<a href="#ref-Hickok-AdjustableSpeedTool-1985" role="doc-biblioref">1985</a>)</span>). This dramatic impact underscores the importance of identifying and minimizing losses within process drives.</p>
</section>
<section id="traditional-trimming-methods" class="level2">
<h2 class="anchored" data-anchor-id="traditional-trimming-methods">Traditional Trimming Methods</h2>
<p>The essential issue in impeller trimming is understanding how the head and flow rate relate to a trimmed impeller diameter. This problem has been explored extensively when a centrifugal pump transports water. Previous studies aimed to find the relation between the head and the flow rate at a given operating point with an approximate trimmed impeller diameter . Affinity laws were employed to determine the size of the trimmed impeller that generates the head required by the piping system at the operating flow rate. The trimmed pump is strictly not similar to the initial pump because only the impeller outer diameter is modified, while all other dimensions remain unchanged. Despite this, the assumption of valid similarity was applied previously by several researchers and pump experts, which may lead to significant errors in their predictions (<span class="citation" data-cites="Elgohary-ApplicationArtificialNeural-2013">Elgohary, Khalil, and Shaito (<a href="#ref-Elgohary-ApplicationArtificialNeural-2013" role="doc-biblioref">2013</a>)</span>).</p>
<p>The affinity laws for centrifugal pumps are given by the following equations:</p>
<p><span class="math display">\[
\text{Flow rate:} \quad \frac{Q'}{Q} = \frac{D_2'}{D_2}
\]</span> <span class="math display">\[
\text{Head:} \quad \frac{H'}{H} = \left( \frac{D_2'}{D_2} \right)^2
\]</span> <span class="math display">\[
\text{Power:} \quad \frac{P'}{P} = \left( \frac{D_2'}{D_2} \right)^3
\]</span></p>
<p>where: - <span class="math inline">\(Q\)</span> and <span class="math inline">\(Q'\)</span> are the original and new flow rates. - <span class="math inline">\(H\)</span> and <span class="math inline">\(H'\)</span> are the original and new heads. - <span class="math inline">\(P\)</span> and <span class="math inline">\(P'\)</span> are the original and new powers. - <span class="math inline">\(D_2\)</span> and <span class="math inline">\(D_2'\)</span> are the original and trimmed impeller diameters.</p>
<p>One of the common trimming methods is constant-area scaling , which assumes that the trimmed impeller maintains a constant area (<span class="citation" data-cites="DetertOudeWeme-PredictionEffectImpeller-2018">Detert Oude Weme et al. (<a href="#ref-DetertOudeWeme-PredictionEffectImpeller-2018" role="doc-biblioref">2018</a>)</span>), thereby ensuring proportional changes in both flow rate and head. This method involves reducing the impeller diameter in a manner that preserves the proportional relationship between the original and the trimmed impeller’s performance metrics. The equations governing constant-area scaling are as follows:</p>
<p><span class="math display">\[
\text{Constant-area scaling:} \quad \frac{Q'}{Q} = \frac{D_2'}{D_2}, \quad \frac{H'}{H} = \left( \frac{D_2'}{D_2} \right)^2
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(Q'\)</span> and <span class="math inline">\(H'\)</span> represent the flow rate and head after trimming, respectively.</li>
<li><span class="math inline">\(D_2'\)</span> and <span class="math inline">\(D_2\)</span> represent the diameter of the trimmed and untrimmed impeller, respectively.</li>
</ul>
<p>In this project, constant-area scaling serves as a benchmark to compare against the predictive capabilities of neural networks. By validating the neural network models against this traditional method, we can assess the accuracy and reliability of data-driven approaches in predicting trimmed pump diameter for a given operating point (Q, H).</p>
</section>
<section id="data-extraction-and-digitization" class="level2">
<h2 class="anchored" data-anchor-id="data-extraction-and-digitization">Data Extraction and Digitization</h2>
<div id="fig-dapQH" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dapQH-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/dapQH.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dapQH-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Q,H curves supplied by manufacturer DAB
</figcaption>
</figure>
</div>
<div id="fig-dapQP" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dapQP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/dap_QP.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dapQP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: Q,P curves supplied by manufacturer DAB
</figcaption>
</figure>
</div>
<p>Pump performance data supplied by manufacturer <strong>DAB</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> for pump <strong>Model KDN 100-250 - 2 POLES</strong>, including Q-H <a href="#fig-dapQH" class="quarto-xref">Figure&nbsp;3</a> as and Q-power <a href="#fig-dapQP" class="quarto-xref">Figure&nbsp;4</a> curves for different diameters, were digitized using on online tool <code>webplotdigitizer</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> and analyzed using MATLAB. This data provided a foundation for training and validating the neural network models we developed in this project.</p>
<p>after digitization we managed to re-produce <span class="math inline">\(Q-H\)</span> , <span class="math inline">\(Q-P\)</span> and <span class="math inline">\(Q-\eta\)</span> curves and extract the best efficiency points as shown in <a href="#fig-pumpmatlabQH" class="quarto-xref">Figure&nbsp;5</a> , <a href="#fig-pumpmatlabQP" class="quarto-xref">Figure&nbsp;6</a> and <a href="#fig-pumpmatlabQeta" class="quarto-xref">Figure&nbsp;7</a>:</p>
<div id="fig-pumpmatlabQH" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pumpmatlabQH-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/pump_matlab_QH.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pumpmatlabQH-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: <span class="math inline">\(Q,H\)</span> curves after digitization using webplotdigitizer and fitting using using matlab
</figcaption>
</figure>
</div>
<div id="fig-pumpmatlabQP" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pumpmatlabQP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/pump_matlab_QP.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pumpmatlabQP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: <span class="math inline">\(Q,P\)</span> curves after digitization using webplotdigitizer and fitting using using matlab
</figcaption>
</figure>
</div>
<div id="fig-pumpmatlabQeta" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pumpmatlabQeta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/pump_matlab_Qeta.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pumpmatlabQeta-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Q, <span class="math inline">\(\eta\)</span> curves after digitization using webplotdigitizer and fitting using using matlab
</figcaption>
</figure>
</div>
<p>now we can generate as much training points as we want for testing and validating neural nets we build and we also calculated the best efficiency points using :</p>
<p><span class="math display">\[
P = \frac{Q*\rho*g*H}{\eta}
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(\eta\)</span> is the pump efficiency (-)</li>
<li><span class="math inline">\(\rho\)</span> is the fluid density <span class="math inline">\((kg/m^3)\)</span></li>
<li><span class="math inline">\(g\)</span> is the acceleration due to gravity <span class="math inline">\((m/s^2)\)</span></li>
</ul>
</section>
<section id="neural-networks" class="level2">
<h2 class="anchored" data-anchor-id="neural-networks">Neural Networks</h2>
<p>Neural networks are a class of machine learning models inspired by the structure and function of the human brain. They consist of interconnected layers of nodes, or neurons, where each neuron receives input, processes it through a weighted sum, applies a non-linear activation function, and passes the output to the next layer. The primary goal of a neural network is to learn the mapping from input data to output predictions by adjusting the weights during training, which is done using a backpropagation .algorithm.</p>
<p>In general, a neural network is composed of an input layer, one or more hidden layers, and an output layer. The layers are connected by weights that are adjusted during the training process to minimize the error between the predicted output and the actual target values. The training involves feeding the network with input data and targets, calculating the error, and using optimization algorithms like gradient descent to update the weights.</p>
<section id="usage-in-the-project" class="level3">
<h3 class="anchored" data-anchor-id="usage-in-the-project">Usage in the Project</h3>
<p>In our project, we employ neural networks to predict the trimmed pump diameter and power output based on given operating points, such as flow rate (Q) and head (H). The neural network is designed with multiple hidden layers to capture the complex relationships between the input and output variables.</p>
<p>We evaluated hyperparameters by building and training the neural network, then calculating the average mean square error (MSE) across training, validation, and testing datasets. The data is divided into 70% for training, 15% for validation, and 15% for testing. This division ensures that the model is trained effectively and its performance is validated on unseen data.</p>
<p>Despite the Adam optimization algorithm being the most cited across various knowledge domains due to its efficiency and effectiveness, we found that the ‘trainlm’ (Levenberg-Marquardt backpropagation) training method was the best option available in MATLAB for our relatively small dataset. This method, ‘trainlm’, is particularly effective for training medium-sized networks quickly. We compared several training functions, including ‘trainbr’, ‘trainrp’, ‘traincgb’, ‘traincgf’, ‘traincgp’, ‘traingdx’, and ‘trainoss’, and found ‘trainlm’ to yield the most reliable results.</p>
<p>Similarly, for activation functions, we evaluated options such as ‘tansig’ (tangent sigmoid) and ‘logsig’ (logistic sigmoid). We found ‘tansig’ to be most effective in introducing non-linearity into the network.</p>
<p><span class="math display">\[
f(x) = tansig(x) = \frac{2}{1 + exp(-2x)} - 1
\]</span></p>
</section>
<section id="data-processing-and-division" class="level3">
<h3 class="anchored" data-anchor-id="data-processing-and-division">Data Processing and Division</h3>
<p>Data preprocessing is a crucial step to ensure the model’s efficiency and accuracy. We used ‘removeconstantrows’ to eliminate constant rows that do not contribute to learning and ‘mapminmax’ to normalize the data, ensuring that all input features are scaled within a specific range.</p>
<p>The performance of the network was evaluated using the mean squared error (MSE), which measures the average squared difference between predicted and actual values. The formula for MSE is:</p>
<p><span class="math display">\[
\text{MSE} = \frac{1}{n} \sum_{i=1}^{n} (y_i - \hat{y}_i)^2
\]</span></p>
<p>where <span class="math inline">\(y_i\)</span> is the actual value and <span class="math inline">\(\hat{y}_i\)</span> is the predicted value.</p>
<p>Additionally, the coefficient of determination, <span class="math inline">\(R^2\)</span> , was used to assess the goodness of fit of the model. The formula for <span class="math inline">\(R^2\)</span> is:</p>
<p><span class="math display">\[
R^2 = 1 - \frac{\sum_{i=1}^{n} (y_i - \hat{y}_i)^2}{\sum_{i=1}^{n} (y_i - \bar{y})^2}
\]</span></p>
<p>where <span class="math inline">\(\bar{y}\)</span> is the mean of the actual values.</p>
<p>To ensure the robustness of the model, the data was divided randomly into training, validation, and testing sets using the ‘dividerand’ function. The division mode was set to ‘sample’, with 70% of the data allocated for training, 15% for validation, and 15% for testing. This approach allowed the model to be trained and validated on different subsets of data, enhancing its performance on unseen data.</p>
</section>
<section id="determining-optimal-parameters-with-genetic-algorithm" class="level3">
<h3 class="anchored" data-anchor-id="determining-optimal-parameters-with-genetic-algorithm">Determining Optimal Parameters with Genetic Algorithm</h3>
<p>Based on our pump curves dataset, we decided to work exclusively with deep feedforward neural networks. However, to ensure optimal performance, we needed to determine the following parameters: - Number of hidden layers - Number of hidden neurons in each layer - Activation function - Training algorithm</p>
<p>To achieve this, we employed a genetic algorithm (GA) to optimize these parameters. The GA evaluated different configurations of the neural network to find the combination that minimized the MSE. The ‘trainlm’ method, with the ‘tansig’ activation function, proved to be the most effective in our evaluations.</p>
</section>
<section id="results-and-analysis" class="level3">
<h3 class="anchored" data-anchor-id="results-and-analysis">Results and Analysis</h3>
<p>Our optimal neural network architectures were [2, 7, 29, 17, 1] for predicting power from flow rate and diameter (Q,D) -&gt; P here the input layer is 2-neurons for the two inputs Q and D and 1 for output P and 3 hidden layers first is 7 neurons then 29 then 17 as shown in <a href="#fig-nnQDP" class="quarto-xref">Figure&nbsp;8</a> , and [2, 5, 15, 1] for predicting diameter from flow rate and head (Q,H) -&gt; D as shown in <a href="#fig-nnQHD" class="quarto-xref">Figure&nbsp;9</a> , with the ‘trainlm’ training method , ‘tansig’ activation function and 355 epochs for all of them yielding the best results.</p>
<!-- @tbl-qhd_results -->
<!-- ```{r tbl-qhd_results}
library(knitr)

# Load the QHD results table
qhd_results <- read.csv('QHD_results.csv')
# Rename columns to ensure headers are displayed correctly
colnames(qhd_results) <- c('DiameterRemoved', 'AvgMSE', 'TrainPerformance', 'ValPerformance', 'TestPerformance', 'MSEDeletedDiameter', 'MSEBEPs')

# Display the table with caption
kable(qhd_results, caption = "(Q,H)-> D , NN performance Results")
``` -->
<div id="fig-nnQDP" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-nnQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/nnQDP.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nnQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: best architecture for (Q,D) -&gt; P, for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<div id="fig-nnQHD" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-nnQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/nnQHD.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nnQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: best architecture for (Q,H) -&gt; D, for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<div id="fig-performanceQDP" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-performanceQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/QDP_Performance.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-performanceQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Training, validation and testing MSE for our best Neural network model for (Q,D) -&gt; P for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<div id="fig-regressionQDP" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-regressionQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/QDP_Regression.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regressionQDP-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Regression Curve (Q,D) -&gt; P, its a Comparison between predicted and actual values for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<div id="fig-performanceQHD" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-performanceQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/QHD_Performance.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-performanceQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12: Training, validation and testing MSE for our best Neural network model for (Q,H) -&gt; D for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<div id="fig-regressionQHD" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-regressionQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/QHD_Regression.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-regressionQHD-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;13: Regression plots for actual and predicted results for trimmed impeller diameter using our final best Neural network model (Q,H)-&gt; D for DAB pump Model KDN 100-250 - 2 POLES
</figcaption>
</figure>
</div>
<p>The results show that <span class="math inline">\(R\)</span> for all NNs in all stages is close to 1 as shown in <a href="#fig-regressionQDP" class="quarto-xref">Figure&nbsp;11</a> for the (Q,D) -&gt; P NN model and <a href="#fig-regressionQHD" class="quarto-xref">Figure&nbsp;13</a> for the (Q,H) -&gt; D NN model , and the average of mse among all models we trained was 0.004 as shown in <a href="#fig-performanceQDP" class="quarto-xref">Figure&nbsp;10</a> and <a href="#fig-performanceQHD" class="quarto-xref">Figure&nbsp;12</a> . The results indicate a good agreement between the model values and the experimental values. Similar results were obtained when using the designed Neural Network for another centrifugal pump (TACO pump) by (<span class="citation" data-cites="Elgohary-ApplicationArtificialNeural-2013">Elgohary, Khalil, and Shaito (<a href="#ref-Elgohary-ApplicationArtificialNeural-2013" role="doc-biblioref">2013</a>)</span>).</p>
</section>
</section>
<section id="genetic-algorithm" class="level2">
<h2 class="anchored" data-anchor-id="genetic-algorithm">Genetic Algorithm</h2>
<p>volutionary algorithms are a class of optimization techniques inspired by the process of natural selection, a cornerstone of Charles Darwin’s theory of evolution. These algorithms evolve a population of candidate solutions over multiple generations to solve complex optimization problems. Among these, the genetic algorithm (GA) is one of the most popular and effective methods. GAs mimic the process of natural evolution, utilizing operations such as selection, crossover, and mutation to iteratively improve a population of solutions.</p>
<div id="fig-how_ga_works" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-how_ga_works-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/how_ga_works.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-how_ga_works-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;14: genetic algorithm general working sequence
</figcaption>
</figure>
</div>
<p>The key steps involved in the genetic algorithm include as shown <a href="#fig-how_ga_works" class="quarto-xref">Figure&nbsp;14</a> : 1. <strong>Initialization</strong>: Creating an initial population of potential solutions with random hyperparameters. 2. <strong>Selection</strong>: Evaluating the fitness of each individual in the population based on the mean squared error (MSE) of the neural network’s predictions. 3. <strong>Crossover</strong>: Combining pairs of individuals to produce offspring with mixed characteristics, promoting the inheritance of good traits. 4. <strong>Mutation</strong>: Introducing random changes to some individuals to maintain genetic diversity and explore new solutions. 5. <strong>Evaluation</strong>: Assessing the performance of the new population and iterating through the selection, crossover, and mutation steps until convergence or a predefined number of generations is reached.</p>
<section id="application-of-genetic-algorithm-in-our-project" class="level3">
<h3 class="anchored" data-anchor-id="application-of-genetic-algorithm-in-our-project">Application of Genetic Algorithm in Our Project</h3>
<p>In our project, we leveraged a genetic algorithm to optimize the hyperparameters of our deep feedforward neural networks. This approach was chosen due to its robustness in exploring large, complex search spaces and finding near-optimal solutions for problems with many variables. Our objective was to determine the optimal number of hidden layers, the number of neurons in each layer, the activation function, and the training algorithm for our neural networks.</p>
</section>
<section id="methodology" class="level3">
<h3 class="anchored" data-anchor-id="methodology">Methodology</h3>
<p>We began by defining the bounds for our hyperparameters. These bounds constrained the possible configurations of our neural network to a feasible range. Specifically, we set the following bounds:</p>
<p>Number of hidden layers: between 2 and 17 Number of neurons in each hidden layer: between 9 and 95 Training algorithm options Activation function options These bounds ensured that the GA explored a diverse set of neural network architectures without venturing into impractically large or small configurations.</p>
<p>The MATLAB <code>ga</code> parameters were carefully chosen to balance exploration and exploitation based on best practices :</p>
<ul>
<li>Population Size: 17 - This parameter defines the number of candidate solutions (individuals) in each generation. A larger population size increases diversity but requires more computational resources.</li>
<li>Max Generations: 13 - This parameter sets the maximum number of generations the GA will run. Each generation represents a complete cycle of selection, crossover, and mutation.</li>
<li>Crossover Fraction: 0.8 - This parameter determines the fraction of the population selected for crossover (mating) to produce the next generation. A higher crossover fraction encourages mixing of genetic material, promoting diversity.</li>
<li>Constraint Tolerance: 0.000991 - This is the tolerance level for constraint violations. Solutions that exceed this tolerance are considered infeasible.</li>
<li>Fitness Limit: 0.000991 - This parameter sets a threshold for the fitness function. Once a solution reaches this fitness level, the GA terminates, assuming it has found a sufficiently optimal solution.</li>
<li>Elite Count: 2 - This parameter specifies the number of top-performing individuals that are directly passed to the next generation without undergoing crossover or mutation, ensuring that the best solutions are preserved.</li>
<li>Display: ‘iter’ - This option controls the display of the GA’s progress. Setting it to ‘iter’ enables iterative display, showing updates after each generation.</li>
<li>Parallel Execution: Enabled - This option allows the GA to use parallel processing, significantly improving computational efficiency by distributing the workload across multiple processors.</li>
</ul>
<p>To ensure reproducibility, a random seed (4826) was set for the random number generator. The optimization process involved evaluating the fitness of each candidate solution using a predefined fitness function, which assessed the performance of the neural network configuration by training it on our dataset and calculating the mean squared error (MSE).</p>
<p>The GA iteratively improved the population of neural networks by selecting the best-performing individuals, performing crossover to combine their features, and introducing mutations to explore new configurations. This evolutionary process continued until the GA converged to a solution that met our fitness criteria.</p>
</section>
</section>
<section id="comparison-of-nn-based-vs-constant-area-scaling-method" class="level2">
<h2 class="anchored" data-anchor-id="comparison-of-nn-based-vs-constant-area-scaling-method">Comparison of NN-Based vs Constant Area Scaling Method</h2>
<p>The neural network models were compared with traditional constant-area scaling methods. By removing a complete diameter curve from the training data, the networks were tested for their predictive accuracy. The AI-based approach proved more effective, particularly when the removed diameter was not the smallest or largest, highlighting the robustness of neural network predictions.</p>
<section id="analysis-of-final-results" class="level3">
<h3 class="anchored" data-anchor-id="analysis-of-final-results">Analysis of Final Results</h3>
<p>The <a href="#tbl-final" class="quarto-xref">Table&nbsp;1</a> below presents the final results of the neural network predictions compared to traditional methods. The AI-based approach consistently outperformed the constant-area scaling method, offering more precise and reliable predictions of pump performance post-trimming.also it shows that training the aforementioned NNs on the full dataset without removing any complete single (Q,H) curve or (Q,P) curve will yield a better results but it also performed well even when a complete diameter curve is removed for the training data set which means our chosen architectures are capturing the topology of the data very well.</p>
<div id="tbl-final" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-final-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Final Results
</figcaption>
<div aria-describedby="tbl-final-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 13%">
<col style="width: 9%">
<col style="width: 14%">
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 16%">
<col style="width: 8%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th>Diameter Removed</th>
<th>Avg MSE</th>
<th>Train Performance</th>
<th>Validation Performance</th>
<th>Test Performance</th>
<th>MSE Deleted Diameter</th>
<th>MSE BEPs</th>
<th>Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>QHD Results</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>NaN</td>
<td>0.0039285</td>
<td>0.0028838</td>
<td>0.0043358</td>
<td>0.0059646</td>
<td>NaN</td>
<td>0.0054126</td>
<td>0.0033419</td>
</tr>
<tr class="odd">
<td>220</td>
<td>0.030093</td>
<td>0.0091516</td>
<td>0.027962</td>
<td>0.063279</td>
<td>62.305</td>
<td>14.482</td>
<td>27.842</td>
</tr>
<tr class="even">
<td>230</td>
<td>2.1664</td>
<td>0.0049077</td>
<td>0.74021</td>
<td>6.7737</td>
<td>73.774</td>
<td>11.816</td>
<td>34.281</td>
</tr>
<tr class="odd">
<td>240</td>
<td>0.0043962</td>
<td>0.0016072</td>
<td>0.0019346</td>
<td>0.010973</td>
<td>0.19113</td>
<td>0.024155</td>
<td>0.085218</td>
</tr>
<tr class="even">
<td>250</td>
<td>0.00088785</td>
<td>0.00096387</td>
<td>0.00075212</td>
<td>0.00090432</td>
<td>56.083</td>
<td>19.901</td>
<td>26.414</td>
</tr>
<tr class="odd">
<td>260</td>
<td>0.0017087</td>
<td>0.0008838</td>
<td>0.0024402</td>
<td>0.002194</td>
<td>45.295</td>
<td>5.7397</td>
<td>19.267</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>QDP Results</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>NaN</td>
<td>0.0061475</td>
<td>0.0055729</td>
<td>0.0061324</td>
<td>0.007011</td>
<td>NaN</td>
<td>0.014941</td>
<td>0.0057486</td>
</tr>
<tr class="odd">
<td>220</td>
<td>0.005917</td>
<td>0.0048547</td>
<td>0.0034999</td>
<td>0.0090041</td>
<td>290.19</td>
<td>88.169</td>
<td>133.71</td>
</tr>
<tr class="even">
<td>230</td>
<td>0.0013612</td>
<td>0.0011326</td>
<td>0.001204</td>
<td>0.0018558</td>
<td>0.55901</td>
<td>0.048094</td>
<td>0.23393</td>
</tr>
<tr class="odd">
<td>240</td>
<td>0.084471</td>
<td>0.01403</td>
<td>0.018891</td>
<td>0.22013</td>
<td>103.78</td>
<td>16.451</td>
<td>42.746</td>
</tr>
<tr class="even">
<td>250</td>
<td>0.071431</td>
<td>0.01074</td>
<td>0.014046</td>
<td>0.19024</td>
<td>118.19</td>
<td>32.507</td>
<td>50.596</td>
</tr>
<tr class="odd">
<td>260</td>
<td>0.04818</td>
<td>0.013519</td>
<td>0.034681</td>
<td>0.096339</td>
<td>62.805</td>
<td>12.708</td>
<td>36.864</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>QDH Results</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>NaN</td>
<td>0.0014683</td>
<td>0.0013138</td>
<td>0.0014464</td>
<td>0.0016446</td>
<td>NaN</td>
<td>0.0013515</td>
<td>0.0012684</td>
</tr>
<tr class="odd">
<td>220</td>
<td>0.0017005</td>
<td>0.00098342</td>
<td>0.0020148</td>
<td>0.0021028</td>
<td>0.014518</td>
<td>0.0041745</td>
<td>0.0027077</td>
</tr>
<tr class="even">
<td>230</td>
<td>0.029849</td>
<td>0.0080034</td>
<td>0.02848</td>
<td>0.052156</td>
<td>65.481</td>
<td>18.064</td>
<td>27.468</td>
</tr>
<tr class="odd">
<td>240</td>
<td>0.018048</td>
<td>0.0041386</td>
<td>0.016647</td>
<td>0.041358</td>
<td>45.752</td>
<td>12.684</td>
<td>23.218</td>
</tr>
<tr class="even">
<td>250</td>
<td>0.00072173</td>
<td>0.0005285</td>
<td>0.00055663</td>
<td>0.0010802</td>
<td>0.064235</td>
<td>0.004949</td>
<td>0.0036413</td>
</tr>
<tr class="odd">
<td>260</td>
<td>0.0051471</td>
<td>0.0021419</td>
<td>0.0072202</td>
<td>0.0060793</td>
<td>24.932</td>
<td>4.9345</td>
<td>11.144</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Where</strong> :</p>
<p>-<strong>Removed Diameter</strong>: is the Diameter corresponding to the removed complete curve from the training dataset and used for validation where the mse error based on it is in column <code>MSE Deleted Diameter</code>.</p>
<ul>
<li><p><strong>AvgMSE (Average Mean Squared Error)</strong>: Indicates the average error between the predicted and actual values. Lower values signify better model accuracy.</p></li>
<li><p><strong>Train Performance</strong>: Reflects the model’s performance on the training dataset. Lower values indicate better fitting to the training data.</p></li>
<li><p><strong>Validation Performance</strong>: Indicates the model’s performance on the validation dataset, used to tune hyperparameters and prevent overfitting.</p></li>
<li><p><strong>Test Performance</strong>: Represents the model’s performance on the test dataset, providing an unbiased evaluation of the model’s accuracy.</p></li>
<li><p><strong>MSE Deleted Diameter</strong>: Shows the mean squared error when the specific diameter is excluded from the training data, assessing the model’s robustness.</p></li>
<li><p><strong>MSE BEPs (Best Efficiency Points)</strong>: Highlights the model’s accuracy at the best efficiency points, crucial for optimizing pump performance.</p></li>
<li><p><strong>Score</strong>: A composite metric combining various performance indicators to provide an overall assessment of the model’s effectiveness. it is calculated as :</p></li>
</ul>
<p><span class="math display">\[
S=0.05⋅Validation+0.35⋅Test+0.40⋅MSE_Deleted+0.20⋅MSE_BEPs
\]</span></p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>This study demonstrates the superiority of AI-based models in predicting the effects of impeller trimming on centrifugal pump performance. The neural network models, optimized through genetic algorithm matlab toolbox <code>ga</code>, consistently outperformed traditional constant-area scaling methods. These findings underscore the potential of AI to enhance pump efficiency, offering significant energy savings and operational improvements.</p>



</section>
</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-DetertOudeWeme-PredictionEffectImpeller-2018" class="csl-entry" role="listitem">
Detert Oude Weme, D. G. J., M. S. Van Der Schoot, N. P. Kruyt, and E. J. J. Van Der Zijden. 2018. <span>“Prediction of the <span>Effect</span> of <span>Impeller Trimming</span> on the <span>Hydraulic Performance</span> of <span>Low Specific-Speed Centrifugal Pumps</span>.”</span> <em>Journal of Fluids Engineering</em> 140 (8): 081202. <a href="https://doi.org/10.1115/1.4039251">https://doi.org/10.1115/1.4039251</a>.
</div>
<div id="ref-Elgohary-ApplicationArtificialNeural-2013" class="csl-entry" role="listitem">
Elgohary, Mohamed A, M Farid Khalil, and Ali A Shaito. 2013. <span>“Application of <span>Artificial Neural Network</span> for the <span>Prediction</span> of <span>Trimmed Impeller Size</span> of a <span>Centrifugal Pump</span>.”</span>
</div>
<div id="ref-Hickok-AdjustableSpeedTool-1985" class="csl-entry" role="listitem">
Hickok, Herbert N. 1985. <span>“Adjustable <span>Speed—A Tool</span> for <span>Saving Energy Losses</span> in <span>Pumps</span>, <span>Fans</span>, <span>Blowers</span>, and <span>Compressors</span>.”</span> <em>IEEE Trans. On Ind. Applicat.</em> IA-21 (1): 124–36. <a href="https://doi.org/10.1109/TIA.1985.349672">https://doi.org/10.1109/TIA.1985.349672</a>.
</div>
<div id="ref-HydraulicInstitute-TrimmingImpellersReduce-2022" class="csl-entry" role="listitem">
Hydraulic Institute. 2022. <span>“Trimming <span>Impellers</span> to <span>Reduce Energy Consumption</span>.”</span> September 27, 2022. <a href="https://www.pumps.org/2022/09/27/trimming-impellers-to-reduce-energy-consumption/">https://www.pumps.org/2022/09/27/trimming-impellers-to-reduce-energy-consumption/</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>here is the manifacturer website : https://www.dabpumps.com/en<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>it works online and can be downloaded to work in pc , here is the website link : https://automeris.io/<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/MohammedTwheed\.github\.io\/mtk-bachelor-project-website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="MohammedTwheed/mtk-bachelor-project-website" data-repo-id="R_kgDOL0cvvQ" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Proudly supervised by <a href="https://scholar.google.com.eg/citations?user=JebIw2QAAAAJ&amp;hl=en"><img src="https://scholar.googleusercontent.com/citations?view_op=medium_photo&amp;user=JebIw2QAAAAJ&amp;citpid=2.png" class="img-fluid" alt="Prof. Dr. Mohamed farid khalil" width="65"></a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../about.html">
<p>About</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MohammedTwheed/mtk-bachelor-project-website">
      <i class="bi bi-github" role="img" aria-label="mtk-bachelor-project-website GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>