<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.556">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mohammed Tawheed Khater">
<meta name="dcterms.date" content="2024-06-23">

<title>Home - Exploartion_17 : Tree-Based Genetic Programming for Polynomial Regression</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../artificial-intelligence.png" rel="icon" type="image/png">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner {
        background: #EDF3F9;
      }
</style>


<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../artificial-intelligence.png" alt="AI for Pumps logo." class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Home</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../data/writings/index.html"> 
<span class="menu-text">Writings</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Exploartion_17 : Tree-Based Genetic Programming for Polynomial Regression</h1>
            <p class="subtitle lead">this is for <code>matlab_translation_symbolic_regression_18.m</code> file implementation</p>
                                <div class="quarto-categories">
                <div class="quarto-category">genetic-algorithms</div>
                <div class="quarto-category">symbolic-regression</div>
                <div class="quarto-category">MATLAB</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mohammed Tawheed Khater </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 23, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  <div>
    <div class="abstract">
      <div class="block-title">Abstract</div>
      <p>This document is intended to be a simpler alternative for translating symbolic regression code from Python to MATLAB. It focuses on a more straightforward approach, as translating the Node and Tree classes from the Python code on GitHub <a href="https://github.com/dyckia/Genetic-Programming-Polynomial-Regression">(by dyckia, titled “Genetic-Programming-Polynomial-Regression”)</a> proved challenging.</p>
      <p>a complete example working matlab file <code>matlab_translation_symbolic_regression_18.m</code> will be sent with this document via whatsapp.</p>
      <p>later i will upload it to github with proper permenant link.</p>
      <p>here is link the translated file : - <a href="https://github.com/MohammedTwheed/dr-farid-genetic-programming-polynomial-regression-convert-to-matlab/blob/master/2024-06-22/SymboicRegression_02/matlab_translation_symbolic_regression_18.m">matlab_translation_symbolic_regression_18.m</a></p>
      <p>here is link to the training data used : - <a href="https://github.com/MohammedTwheed/dr-farid-genetic-programming-polynomial-regression-convert-to-matlab/blob/master/A4_trainingSamples.txt">A4_trainingSamples.txt</a></p>
    </div>
  </div>
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#download-this-doc-as-pdf-or-word" id="toc-download-this-doc-as-pdf-or-word" class="nav-link active" data-scroll-target="#download-this-doc-as-pdf-or-word">download this doc as pdf or word</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#genetic-algorithm-implementation" id="toc-genetic-algorithm-implementation" class="nav-link" data-scroll-target="#genetic-algorithm-implementation">Genetic Algorithm Implementation</a>
  <ul class="collapse">
  <li><a href="#population-initialization" id="toc-population-initialization" class="nav-link" data-scroll-target="#population-initialization">1. Population Initialization</a></li>
  <li><a href="#selection" id="toc-selection" class="nav-link" data-scroll-target="#selection">2. Selection</a></li>
  <li><a href="#crossover" id="toc-crossover" class="nav-link" data-scroll-target="#crossover">3. Crossover</a></li>
  <li><a href="#mutation" id="toc-mutation" class="nav-link" data-scroll-target="#mutation">4. Mutation</a></li>
  <li><a href="#fitness-evaluation" id="toc-fitness-evaluation" class="nav-link" data-scroll-target="#fitness-evaluation">5. Fitness Evaluation</a></li>
  </ul></li>
  <li><a href="#tree-structure-for-mathematical-expressions" id="toc-tree-structure-for-mathematical-expressions" class="nav-link" data-scroll-target="#tree-structure-for-mathematical-expressions">Tree Structure for Mathematical Expressions</a>
  <ul class="collapse">
  <li><a href="#tree-representation" id="toc-tree-representation" class="nav-link" data-scroll-target="#tree-representation">Tree Representation</a></li>
  <li><a href="#tree-generation" id="toc-tree-generation" class="nav-link" data-scroll-target="#tree-generation">Tree Generation</a></li>
  <li><a href="#tree-evaluation" id="toc-tree-evaluation" class="nav-link" data-scroll-target="#tree-evaluation">Tree Evaluation</a></li>
  </ul></li>
  <li><a href="#matlab-implementation-details" id="toc-matlab-implementation-details" class="nav-link" data-scroll-target="#matlab-implementation-details">MATLAB Implementation Details</a>
  <ul class="collapse">
  <li><a href="#modular-functions" id="toc-modular-functions" class="nav-link" data-scroll-target="#modular-functions">Modular Functions</a></li>
  <li><a href="#randomization" id="toc-randomization" class="nav-link" data-scroll-target="#randomization">Randomization</a></li>
  <li><a href="#structured-logging" id="toc-structured-logging" class="nav-link" data-scroll-target="#structured-logging">Structured Logging</a></li>
  <li><a href="#visualization" id="toc-visualization" class="nav-link" data-scroll-target="#visualization">Visualization</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a>
  <ul class="collapse">
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li><li><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="download-this-doc-as-pdf-or-word" class="level2">
<h2 class="anchored" data-anchor-id="download-this-doc-as-pdf-or-word">download this doc as pdf or word</h2>
<div class="quarto-alternate-formats">
<h2 class="anchored">
Other Formats
</h2>
<ul>
<li>
<a href="http://localhost:4892/data/writings/posts/2024-06-23-symbolic-regression-translation-to-matlab/index.pdf" data-original-href="http://localhost:4892/data/writings/posts/2024-06-23-symbolic-regression-translation-to-matlab/index.pdf"><i class="bi bi-file-pdf"></i>PDF</a>
</li>
<li>
<a href="http://localhost:4892/data/writings/posts/2024-06-23-symbolic-regression-translation-to-matlab/index.docx" data-original-href="http://localhost:4892/data/writings/posts/2024-06-23-symbolic-regression-translation-to-matlab/index.docx"><i class="bi bi-file-word"></i>MS Word</a>
</li>
</ul>
</div>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Symbolic regression, a technique used to identify mathematical expressions that best fit a given dataset, is a complex task often tackled using genetic programming (GP). Genetic programming mimics natural evolution to optimize candidate solutions, represented as mathematical expressions. This review explores the implementation of a genetic algorithm for symbolic regression using MATLAB, delving into the detailed structure of the genetic algorithm and the representation of mathematical expressions as tree structures. The following sections will elaborate on the genetic algorithm’s key components, the tree structure for representing mathematical expressions, and the nuances of the MATLAB implementation.</p>
</section>
<section id="genetic-algorithm-implementation" class="level2">
<h2 class="anchored" data-anchor-id="genetic-algorithm-implementation">Genetic Algorithm Implementation</h2>
<p>The genetic algorithm (GA) for symbolic regression involves several critical steps: population initialization, selection, crossover, mutation, and fitness evaluation. Each of these steps is meticulously implemented in MATLAB to evolve mathematical expressions that best fit the provided data.</p>
<section id="population-initialization" class="level3">
<h3 class="anchored" data-anchor-id="population-initialization">1. Population Initialization</h3>
<p>Population initialization is achieved using the ramped half-and-half method, which ensures a diverse initial population. This method generates trees with varying depths and structures, promoting genetic diversity.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">pop</span> <span class="op">=</span> <span class="va">initialPopulation</span>(<span class="va">pop_size</span><span class="op">,</span> <span class="va">max_depth</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">pop</span> <span class="op">=</span> <span class="va">cell</span>(<span class="fl">1</span><span class="op">,</span> <span class="va">pop_size</span>)<span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for</span> <span class="va">i</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">pop_size</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">method</span> <span class="op">=</span> <span class="ss">'full'</span><span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="va">i</span> <span class="op">&gt;</span> (<span class="va">pop_size</span> <span class="op">/</span> <span class="fl">2</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            <span class="va">method</span> <span class="op">=</span> <span class="ss">'grow'</span><span class="op">;</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">pop</span>{<span class="va">i</span>} <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="fl">0</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">pop</span> <span class="op">=</span> <span class="va">pop</span>(<span class="va">randperm</span>(<span class="va">length</span>(<span class="va">pop</span>)))<span class="op">;</span>  <span class="co">% Randomize the population</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>growTree</code> function generates individual trees using either the “full” method, creating fully populated trees to the maximum depth, or the “grow” method, generating trees with random depths.</p>
</section>
<section id="selection" class="level3">
<h3 class="anchored" data-anchor-id="selection">2. Selection</h3>
<p>Tournament selection is employed to choose individuals for reproduction. This method ensures that individuals with better fitness are more likely to be selected, driving the population towards better solutions.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">selected</span> <span class="op">=</span> <span class="va">tournamentSelection</span>(<span class="va">pop</span><span class="op">,</span> <span class="va">tour_size</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">rf</span><span class="op">,</span> <span class="va">terminal_set</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">selected_ind</span> <span class="op">=</span> <span class="va">randperm</span>(<span class="va">length</span>(<span class="va">pop</span>)<span class="op">,</span> <span class="va">tour_size</span>)<span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">selected</span> <span class="op">=</span> <span class="va">cell</span>(<span class="va">tour_size</span><span class="op">,</span> <span class="fl">2</span>)<span class="op">;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for</span> <span class="va">i</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">tour_size</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">tree</span> <span class="op">=</span> <span class="va">pop</span>{<span class="va">selected_ind</span>(<span class="va">i</span>)}<span class="op">;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">fitness</span> <span class="op">=</span> <span class="va">computeError</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">rf</span><span class="op">,</span> <span class="va">terminal_set</span>)<span class="op">;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">selected</span>{<span class="va">i</span><span class="op">,</span> <span class="fl">1</span>} <span class="op">=</span> <span class="va">tree</span><span class="op">;</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">selected</span>{<span class="va">i</span><span class="op">,</span> <span class="fl">2</span>} <span class="op">=</span> <span class="va">fitness</span><span class="op">;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">selected</span> <span class="op">=</span> <span class="va">sortrows</span>(<span class="va">selected</span><span class="op">,</span> <span class="fl">2</span>)<span class="op">;</span>  <span class="co">% Sort based on fitness (ascending)</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Tournament selection enhances the likelihood of selecting fitter individuals while maintaining some level of genetic diversity, which is crucial for avoiding local optima.</p>
</section>
<section id="crossover" class="level3">
<h3 class="anchored" data-anchor-id="crossover">3. Crossover</h3>
<p>Crossover involves exchanging subtrees between pairs of parent trees to produce offspring with mixed characteristics. This operation introduces variability and combines the strengths of both parents.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> [<span class="va">tree1</span><span class="op">,</span> <span class="va">tree2</span>] <span class="op">=</span> <span class="va">crossover</span>(<span class="va">tree1</span><span class="op">,</span> <span class="va">tree2</span><span class="op">,</span> <span class="va">c_rate</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="va">rand</span>() <span class="op">&lt;=</span> <span class="va">c_rate</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">swap_point1</span> <span class="op">=</span> <span class="va">randi</span>([<span class="fl">0</span><span class="op">,</span> <span class="va">countNodes</span>(<span class="va">tree1</span>) <span class="op">-</span> <span class="fl">1</span>])<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">swap_point2</span> <span class="op">=</span> <span class="va">randi</span>([<span class="fl">0</span><span class="op">,</span> <span class="va">countNodes</span>(<span class="va">tree2</span>) <span class="op">-</span> <span class="fl">1</span>])<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">subtree1</span> <span class="op">=</span> <span class="va">getSubtree</span>(<span class="va">tree1</span><span class="op">,</span> <span class="va">swap_point1</span>)<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">subtree2</span> <span class="op">=</span> <span class="va">getSubtree</span>(<span class="va">tree2</span><span class="op">,</span> <span class="va">swap_point2</span>)<span class="op">;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">tree1</span> <span class="op">=</span> <span class="va">setSubtree</span>(<span class="va">tree1</span><span class="op">,</span> <span class="va">swap_point1</span><span class="op">,</span> <span class="va">subtree2</span>)<span class="op">;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="va">tree2</span> <span class="op">=</span> <span class="va">setSubtree</span>(<span class="va">tree2</span><span class="op">,</span> <span class="va">swap_point2</span><span class="op">,</span> <span class="va">subtree1</span>)<span class="op">;</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="mutation" class="level3">
<h3 class="anchored" data-anchor-id="mutation">4. Mutation</h3>
<p>Mutation introduces random changes in the tree structure, which is essential for maintaining genetic diversity and exploring new solutions.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">tree</span> <span class="op">=</span> <span class="va">mutate</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">m_rate</span><span class="op">,</span> <span class="va">max_depth</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="va">rand</span>() <span class="op">&lt;=</span> <span class="va">m_rate</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">mut_point</span> <span class="op">=</span> <span class="va">randi</span>([<span class="fl">0</span><span class="op">,</span> <span class="va">countNodes</span>(<span class="va">tree</span>) <span class="op">-</span> <span class="fl">1</span>])<span class="op">;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">subtree</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="ss">'grow'</span><span class="op">,</span> <span class="fl">0</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">tree</span> <span class="op">=</span> <span class="va">setSubtree</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">mut_point</span><span class="op">,</span> <span class="va">subtree</span>)<span class="op">;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="fitness-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="fitness-evaluation">5. Fitness Evaluation</h3>
<p>The fitness of each tree is evaluated based on its ability to predict target values accurately. The fitness metric used is the root mean square error (RMSE), which quantifies the difference between the predicted and actual values.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">error</span> <span class="op">=</span> <span class="va">computeError</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">rf</span><span class="op">,</span> <span class="va">terminal_set</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">error_sum</span> <span class="op">=</span> <span class="fl">0</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">n</span> <span class="op">=</span> <span class="va">length</span>(<span class="va">x</span>)<span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">for</span> <span class="va">i</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">n</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">error_sum</span> <span class="op">=</span> <span class="va">error_sum</span> <span class="op">+</span> (<span class="va">computeTree</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">x</span>(<span class="va">i</span>)<span class="op">,</span> <span class="va">y</span>(<span class="va">i</span>)<span class="op">,</span> <span class="va">terminal_set</span>) <span class="op">-</span> <span class="va">rf</span>(<span class="va">i</span>))<span class="op">^</span><span class="fl">2</span><span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">error</span> <span class="op">=</span> <span class="va">sqrt</span>(<span class="va">error_sum</span> <span class="op">/</span> <span class="va">n</span>)<span class="op">;</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="tree-structure-for-mathematical-expressions" class="level2">
<h2 class="anchored" data-anchor-id="tree-structure-for-mathematical-expressions">Tree Structure for Mathematical Expressions</h2>
<p>In genetic programming, mathematical expressions are represented as tree structures, where nodes represent functions or terminals. Terminals can be variables (e.g., <code>x</code>, <code>y</code>) or constants (e.g., <code>1</code>, <code>2</code>), while functions are operators (e.g., <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>).</p>
<section id="tree-representation" class="level3">
<h3 class="anchored" data-anchor-id="tree-representation">Tree Representation</h3>
<p>Each tree node is a structure with a value (operator or terminal) and pointers to its left and right child nodes.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">node</span> <span class="op">=</span> <span class="va">createNode</span>(<span class="va">value</span><span class="op">,</span> <span class="va">left</span><span class="op">,</span> <span class="va">right</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">node</span> <span class="op">=</span> <span class="va">struct</span>(<span class="ss">'value'</span><span class="op">,</span> <span class="va">value</span><span class="op">,</span> <span class="ss">'left'</span><span class="op">,</span> <span class="va">left</span><span class="op">,</span> <span class="ss">'right'</span><span class="op">,</span> <span class="va">right</span>)<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="tree-generation" class="level3">
<h3 class="anchored" data-anchor-id="tree-generation">Tree Generation</h3>
<p>Trees are generated using the <code>growTree</code> function, which recursively builds trees up to a specified maximum depth. The tree generation can follow the “full” method, creating fully populated trees, or the “grow” method, producing trees with variable depths.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">tree</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="va">depth</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="va">strcmp</span>(<span class="va">method</span><span class="op">,</span> <span class="ss">'full'</span>) <span class="op">&amp;&amp;</span> <span class="va">depth</span> <span class="op">&lt;</span> <span class="va">max_depth</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">left</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="va">depth</span> <span class="op">+</span> <span class="fl">1</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        <span class="va">right</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="va">depth</span> <span class="op">+</span> <span class="fl">1</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">value</span> <span class="op">=</span> <span class="va">drawValue</span>(<span class="ss">'f'</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">elseif</span> <span class="va">strcmp</span>(<span class="va">method</span><span class="op">,</span> <span class="ss">'grow'</span>) <span class="op">&amp;&amp;</span> <span class="va">depth</span> <span class="op">&lt;</span> <span class="va">max_depth</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        <span class="va">value</span> <span class="op">=</span> <span class="va">drawValue</span>(<span class="ss">'tf'</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="va">any</span>(<span class="va">strcmp</span>(<span class="va">value</span><span class="op">,</span> <span class="va">terminal_set</span>))</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>            <span class="va">tree</span> <span class="op">=</span> <span class="va">createNode</span>(<span class="va">value</span><span class="op">,</span> []<span class="op">,</span> [])<span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            <span class="kw">return</span><span class="op">;</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>        <span class="va">left</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="va">depth</span> <span class="op">+</span> <span class="fl">1</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>        <span class="va">right</span> <span class="op">=</span> <span class="va">growTree</span>(<span class="va">max_depth</span><span class="op">,</span> <span class="va">method</span><span class="op">,</span> <span class="va">depth</span> <span class="op">+</span> <span class="fl">1</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">else</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        <span class="va">value</span> <span class="op">=</span> <span class="va">drawValue</span>(<span class="ss">'t'</span><span class="op">,</span> <span class="va">terminal_set</span><span class="op">,</span> <span class="va">function_set</span>)<span class="op">;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>        <span class="va">left</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>        <span class="va">right</span> <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="va">tree</span> <span class="op">=</span> <span class="va">createNode</span>(<span class="va">value</span><span class="op">,</span> <span class="va">left</span><span class="op">,</span> <span class="va">right</span>)<span class="op">;</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="tree-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="tree-evaluation">Tree Evaluation</h3>
<p>The <code>computeTree</code> function recursively evaluates the tree by computing the value of each subtree and applying the respective operator.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">result</span> <span class="op">=</span> <span class="va">computeTree</span>(<span class="va">tree</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">terminal_set</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">if</span> <span class="va">any</span>(<span class="va">strcmp</span>(<span class="va">tree</span>.<span class="va">value</span><span class="op">,</span> <span class="va">terminal_set</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="va">result</span> <span class="op">=</span> <span class="va">eval</span>(<span class="va">tree</span>.<span class="va">value</span>)<span class="op">;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">else</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="va">left_val</span> <span class="op">=</span> <span class="va">computeTree</span>(<span class="va">tree</span>.<span class="va">left</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">terminal_set</span>)<span class="op">;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="va">right_val</span> <span class="op">=</span> <span class="va">computeTree</span>(<span class="va">tree</span>.<span class="va">right</span><span class="op">,</span> <span class="va">x</span><span class="op">,</span> <span class="va">y</span><span class="op">,</span> <span class="va">terminal_set</span>)<span class="op">;</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="kw">if</span> <span class="va">strcmp</span>(<span class="va">tree</span>.<span class="va">value</span><span class="op">,</span> <span class="ss">'/'</span>) <span class="op">&amp;&amp;</span> <span class="va">right_val</span> <span class="op">==</span> <span class="fl">0</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>            <span class="va">result</span> <span class="op">=</span> <span class="fl">1</span><span class="op">;</span> <span class="co">% Avoid division by zero</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">else</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>            <span class="va">result</span> <span class="op">=</span> <span class="va">eval</span>([<span class="va">num2str</span>(<span class="va">left_val</span>) <span class="va">tree</span>.<span class="va">value</span> <span class="va">num2str</span>(<span class="va">right_val</span>)])<span class="op">;</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">end</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">end</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="matlab-implementation-details" class="level2">
<h2 class="anchored" data-anchor-id="matlab-implementation-details">MATLAB Implementation Details</h2>
<p>The MATLAB code employs several programming techniques to ensure the efficient implementation of the genetic algorithm:</p>
<section id="modular-functions" class="level3">
<h3 class="anchored" data-anchor-id="modular-functions">Modular Functions</h3>
<p>The code is organized into modular functions, each responsible for a specific task, enhancing readability and maintainability.</p>
</section>
<section id="randomization" class="level3">
<h3 class="anchored" data-anchor-id="randomization">Randomization</h3>
<p>Functions such as <code>randperm</code> and <code>randi</code> introduce randomness in the selection, crossover, and mutation processes, which is vital for maintaining genetic diversity.</p>
</section>
<section id="structured-logging" class="level3">
<h3 class="anchored" data-anchor-id="structured-logging">Structured Logging</h3>
<p>Execution progress and timing are logged using the <code>logMessage</code> function, providing valuable insights into the algorithm’s performance.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">logMessage</span>(<span class="va">message</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">timestamp</span> <span class="op">=</span> <span class="va">datestr</span>(<span class="va">now</span><span class="op">,</span> <span class="ss">'yyyy-mm-dd HH:MM:SS'</span>)<span class="op">;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">fprintf</span>(<span class="ss">'[%s] %s\n'</span><span class="op">,</span> <span class="va">timestamp</span><span class="op">,</span> <span class="va">message</span>)<span class="op">;</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="visualization" class="level3">
<h3 class="anchored" data-anchor-id="visualization">Visualization</h3>
<div id="fig-plot" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="evolution_of_fitness_vs_tree_depth.png" class="img-fluid figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: exanple plot with 200 generations
</figcaption>
</figure>
</div>
<p>The plot visualizes the evolutionary process of symbolic regression using a genetic algorithm , highlighting the improvement in fitness (error reduction) and changes in solution complexity (tree depth) across generations. This approach aims to find mathematical expressions (symbolic models) that best fit the training data (A4_trainingSamples.txt). Each line provides critical insights into the algorithm’s performance and the nature of solutions generated over time.</p>
<p>The <code>plotFigure</code> function visualizes the evolution of fitness and tree depth over generations, aiding in the interpretation of the algorithm’s progress.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode matlab code-with-copy"><code class="sourceCode matlab"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="va">plotFigure</span>(<span class="va">best_fit</span><span class="op">,</span> <span class="va">avg_fit</span><span class="op">,</span> <span class="va">worst_fit</span><span class="op">,</span> <span class="va">tree_depth</span><span class="op">,</span> <span class="va">gen</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">generations</span> <span class="op">=</span> <span class="fl">10</span><span class="op">:</span><span class="fl">10</span><span class="op">:</span><span class="va">gen</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="va">figure</span><span class="op">;</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">yyaxis</span> <span class="va">left</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">plot</span>(<span class="va">generations</span><span class="op">,</span> <span class="va">best_fit</span><span class="op">,</span> <span class="ss">'r'</span><span class="op">,</span> <span class="va">generations</span><span class="op">,</span> <span class="va">avg_fit</span><span class="op">,</span> <span class="ss">'g'</span><span class="op">,</span> <span class="va">generations</span><span class="op">,</span> <span class="va">worst_fit</span><span class="op">,</span> <span class="ss">'b'</span>)<span class="op">;</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="va">xlabel</span>(<span class="ss">'Generation'</span>)<span class="op">;</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="va">ylabel</span>(<span class="ss">'Fitness'</span>)<span class="op">;</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="va">legend</span>(<span class="ss">'Best'</span><span class="op">,</span> <span class="ss">'Average'</span><span class="op">,</span> <span class="ss">'Worst'</span>)<span class="op">;</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="va">yyaxis</span> <span class="va">right</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">plot</span>(<span class="va">generations</span><span class="op">,</span> <span class="va">tree_depth</span><span class="op">,</span> <span class="ss">'c'</span>)<span class="op">;</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="va">ylabel</span>(<span class="ss">'Average Tree Depth'</span>)<span class="op">;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    <span class="va">legend</span>(<span class="ss">'Tree Depth'</span>)<span class="op">;</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="va">title</span>(<span class="ss">'Evolution of Fitness and Tree Depth'</span>)<span class="op">;</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Plot Explained:</strong></p>
<p><em>Fitness Evolution (Left Y-axis):</em></p>
<p>Red Line (Best Fitness): Represents the fitness (error) of the best individual in each generation. Green Line (Average Fitness): Shows the average fitness (error) of the population in each generation. Blue Line (Worst Fitness): Indicates the fitness (error) of the worst individual in each generation. These lines show how the fitness (error) values change over generations. The goal of the algorithm is typically to minimize this fitness value, as it represents the error in predicting the output (rf) based on the input (x, y).</p>
<p><em>Tree Depth Evolution (Right Y-axis):</em></p>
<p>Cyan Line (Average Tree Depth): Displays the average depth of the trees in the population for each generation. The depth of the trees is an indicator of their complexity. Genetic programming often evolves trees of varying depths, and monitoring the average tree depth helps in understanding the complexity of the solutions found over generations.</p>
<p><em>X-axis (Generation):</em></p>
<p>Each point on the x-axis represents a specific generation number (10:10:gen), where gen is the total number of generations specified in the code. Interpretation: Fitness Lines (Red, Green, Blue): Ideally, you want to see the red (best fitness) line decreasing over generations, indicating improvement in the best solution found. The green (average fitness) and blue (worst fitness) lines provide context on the overall performance of the population.</p>
<p><em>Tree Depth Line (Cyan):</em> Monitoring the tree depth helps in understanding if the algorithm is converging towards simpler or more complex solutions. An increase in average tree depth might indicate overfitting or increasing complexity of solutions.</p>
<p><strong>Specific Colors in the Plot:</strong> Green Line: Represents the average fitness (error) of the population. Blue Line: Represents the worst fitness (error) in the population. Cyan Line: Represents the average depth of trees in the population. These lines collectively show how the genetic algorithm progresses in terms of fitness (error minimization) and the complexity of the evolved solutions (average tree depth).</p>
<p>The plot helps in understanding how the fitness of the population improves over time and how the complexity of the solutions (tree depth) changes.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The MATLAB implementation of genetic programming</p>
<p>for symbolic regression is a robust approach that leverages the power of evolutionary algorithms to discover optimal mathematical expressions. Key features include structured functions, effective randomization, detailed logging, and clear visualization. This review highlights the importance of genetic diversity, modular programming, and the use of tree structures for representing mathematical expressions. These elements collectively enhance the effectiveness of symbolic regression using genetic algorithms.</p>
<section id="references" class="level3">
<h3 class="anchored" data-anchor-id="references">References</h3>
<p>this part is still uderconstruction to be continued later</p>
<!-- 1. Koza, J. R. (1992). Genetic Programming: On the Programming of Computers by Means of Natural Selection. MIT Press.
2. Bäck, T. (1996). Evolutionary Algorithms in Theory and Practice: Evolution Strategies, Evolutionary Programming, Genetic Algorithms. Oxford University Press.
3. Poli, R., Langdon, W. B., & McPhee, N. F. (2008). A Field Guide to Genetic Programming. Lulu.com.
4. Bishop, C. M. (2006). Pattern Recognition and Machine Learning. Springer.
this book still needs more work
5. Haupt, R. L., & Haupt, S. E. (2004). Practical Genetic Algorithms. Wiley-Interscience. -->


</section>
</section>

</main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/MohammedTwheed\.github\.io\/mtk-bachelor-project-website\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="MohammedTwheed/mtk-bachelor-project-website" data-repo-id="R_kgDOL0cvvQ" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Proudly supervised by <a href="https://scholar.google.com.eg/citations?user=JebIw2QAAAAJ&amp;hl=en"><img src="https://scholar.googleusercontent.com/citations?view_op=medium_photo&amp;user=JebIw2QAAAAJ&amp;citpid=2.png" class="img-fluid" alt="Prof. Dr. Mohamed farid khalil" width="65"></a></p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../about.html">
<p>About</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/MohammedTwheed/mtk-bachelor-project-website">
      <i class="bi bi-github" role="img" aria-label="mtk-bachelor-project-website GitHub">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>